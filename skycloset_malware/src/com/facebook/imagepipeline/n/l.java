package com.facebook.imagepipeline.n;

import android.net.Uri;
import android.util.Base64;
import com.facebook.common.b.a;
import com.facebook.common.d.i;
import com.facebook.common.g.h;
import com.facebook.imagepipeline.j.d;
import com.facebook.imagepipeline.o.b;
import java.io.ByteArrayInputStream;

public class l extends aa {
  public l(h paramh) { super(a.a(), paramh); }
  
  static byte[] a(String paramString) {
    i.a(paramString.substring(0, 5).equals("data:"));
    int i = paramString.indexOf(',');
    String str = paramString.substring(i + 1, paramString.length());
    return b(paramString.substring(0, i)) ? Base64.decode(str, 0) : Uri.decode(str).getBytes();
  }
  
  static boolean b(String paramString) {
    if (!paramString.contains(";"))
      return false; 
    String[] arrayOfString = paramString.split(";");
    return arrayOfString[arrayOfString.length - 1].equals("base64");
  }
  
  protected d a(b paramb) {
    byte[] arrayOfByte = a(paramb.b().toString());
    return a(new ByteArrayInputStream(arrayOfByte), arrayOfByte.length);
  }
  
  protected String a() { return "DataFetchProducer"; }
}
