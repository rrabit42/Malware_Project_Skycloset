package com.facebook.imagepipeline.n;

import com.facebook.b.a.d;
import com.facebook.common.d.f;
import com.facebook.common.h.a;
import com.facebook.imagepipeline.d.f;
import com.facebook.imagepipeline.d.p;
import com.facebook.imagepipeline.j.b;
import com.facebook.imagepipeline.o.d;
import java.util.Map;

public class ai extends Object implements ak<a<b>> {
  private final p<d, b> a;
  
  private final f b;
  
  private final ak<a<b>> c;
  
  public ai(p<d, b> paramp, f paramf, ak<a<b>> paramak) {
    this.a = paramp;
    this.b = paramf;
    this.c = paramak;
  }
  
  protected String a() { return "PostprocessedBitmapMemoryCacheProducer"; }
  
  public void a(k<a<b>> paramk, al paramal) {
    Object object1;
    an an = paramal.c();
    String str2 = paramal.b();
    String str1 = paramal.a();
    Object object2 = paramal.d();
    d d = str1.q();
    if (d == null || d.a() == null) {
      this.c.a(paramk, paramal);
      return;
    } 
    an.a(str2, a());
    d d1 = this.b.b(str1, object2);
    a a1 = this.a.a(d1);
    str1 = null;
    object2 = null;
    if (a1 != null) {
      str1 = a();
      object1 = object2;
      if (an.b(str2))
        object1 = f.a("cached_value_found", "true"); 
      an.a(str2, str1, object1);
      an.a(str2, "PostprocessedBitmapMemoryCacheProducer", true);
      paramk.b(1.0F);
      paramk.b(a1, 1);
      a1.close();
      return;
    } 
    boolean bool1 = d instanceof com.facebook.imagepipeline.o.e;
    boolean bool2 = object1.a().o();
    object2 = new a(paramk, d1, bool1, this.a, bool2);
    String str3 = a();
    Map map = str1;
    if (an.b(str2))
      map = f.a("cached_value_found", "false"); 
    an.a(str2, str3, map);
    this.c.a(object2, object1);
  }
}
