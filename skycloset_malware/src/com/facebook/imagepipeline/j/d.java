package com.facebook.imagepipeline.j;

import android.util.Pair;
import com.facebook.common.d.i;
import com.facebook.common.d.l;
import com.facebook.common.g.g;
import com.facebook.common.g.i;
import com.facebook.common.h.a;
import com.facebook.g.b;
import com.facebook.g.c;
import com.facebook.g.d;
import com.facebook.h.b;
import com.facebook.h.e;
import com.facebook.imagepipeline.e.a;
import java.io.Closeable;
import java.io.FileInputStream;
import java.io.IOException;
import java.io.InputStream;

public class d implements Closeable {
  private final a<g> a;
  
  private final l<FileInputStream> b;
  
  private c c = c.a;
  
  private int d = -1;
  
  private int e = 0;
  
  private int f = -1;
  
  private int g = -1;
  
  private int h = 1;
  
  private int i = -1;
  
  private a j;
  
  public d(l<FileInputStream> paraml) {
    i.a(paraml);
    this.a = null;
    this.b = paraml;
  }
  
  public d(l<FileInputStream> paraml, int paramInt) {
    this(paraml);
    this.i = paramInt;
  }
  
  public d(a<g> parama) {
    i.a(a.a(parama));
    this.a = parama.b();
    this.b = null;
  }
  
  public static d a(d paramd) { return (paramd != null) ? paramd.a() : null; }
  
  public static boolean c(d paramd) { return (paramd.d >= 0 && paramd.f >= 0 && paramd.g >= 0); }
  
  public static void d(d paramd) {
    if (paramd != null)
      paramd.close(); 
  }
  
  public static boolean e(d paramd) { return (paramd != null && paramd.b()); }
  
  private Pair<Integer, Integer> n() {
    Pair pair = e.a(d());
    if (pair != null) {
      this.f = ((Integer)pair.first).intValue();
      this.g = ((Integer)pair.second).intValue();
    } 
    return pair;
  }
  
  private Pair<Integer, Integer> o() {
    try {
      object = d();
    } finally {
      d1 = null;
    } 
    if (object != null)
      try {
        object.close();
      } catch (IOException object) {} 
    throw d1;
  }
  
  public d a() {
    l l1 = this.b;
    if (l1 != null) {
      d d1 = new d(l1, this.i);
    } else {
      a1 = a.b(this.a);
      if (a1 == null) {
        l1 = null;
      } else {
        try {
          d d1 = new d(a1);
        } finally {
          a.c(a1);
        } 
      } 
      a.c(a1);
    } 
    if (l1 != null)
      l1.b(this); 
    return l1;
  }
  
  public void a(int paramInt) { this.g = paramInt; }
  
  public void a(c paramc) { this.c = paramc; }
  
  public void a(a parama) { this.j = parama; }
  
  public void b(int paramInt) { this.f = paramInt; }
  
  public void b(d paramd) {
    this.c = paramd.e();
    this.f = paramd.h();
    this.g = paramd.i();
    this.d = paramd.f();
    this.e = paramd.g();
    this.h = paramd.j();
    this.i = paramd.l();
    this.j = paramd.k();
  }
  
  public boolean b() { // Byte code:
    //   0: aload_0
    //   1: monitorenter
    //   2: aload_0
    //   3: getfield a : Lcom/facebook/common/h/a;
    //   6: invokestatic a : (Lcom/facebook/common/h/a;)Z
    //   9: ifne -> 29
    //   12: aload_0
    //   13: getfield b : Lcom/facebook/common/d/l;
    //   16: astore_2
    //   17: aload_2
    //   18: ifnull -> 24
    //   21: goto -> 29
    //   24: iconst_0
    //   25: istore_1
    //   26: goto -> 31
    //   29: iconst_1
    //   30: istore_1
    //   31: aload_0
    //   32: monitorexit
    //   33: iload_1
    //   34: ireturn
    //   35: astore_2
    //   36: aload_0
    //   37: monitorexit
    //   38: aload_2
    //   39: athrow
    // Exception table:
    //   from	to	target	type
    //   2	17	35	finally }
  
  public a<g> c() { return a.b(this.a); }
  
  public void c(int paramInt) { this.d = paramInt; }
  
  public void close() { a.c(this.a); }
  
  public InputStream d() {
    l l1 = this.b;
    if (l1 != null)
      return (InputStream)l1.b(); 
    a1 = a.b(this.a);
    if (a1 != null)
      try {
        return new i((g)a1.a());
      } finally {
        a.c(a1);
      }  
    return null;
  }
  
  public void d(int paramInt) { this.e = paramInt; }
  
  public c e() { return this.c; }
  
  public void e(int paramInt) { this.h = paramInt; }
  
  public int f() { return this.d; }
  
  public boolean f(int paramInt) {
    if (this.c != b.a)
      return true; 
    if (this.b != null)
      return true; 
    i.a(this.a);
    g g1 = (g)this.a.a();
    return (g1.a(paramInt - 2) == -1 && g1.a(paramInt - 1) == -39);
  }
  
  public int g() { return this.e; }
  
  public String g(int paramInt) {
    stringBuilder = c();
    if (stringBuilder == null)
      return ""; 
    paramInt = Math.min(l(), paramInt);
    null = new byte[paramInt];
    try {
      g g1 = (g)stringBuilder.a();
      if (g1 == null)
        return ""; 
      g1.a(0, null, 0, paramInt);
      stringBuilder.close();
      stringBuilder = new StringBuilder(null.length * 2);
      k = null.length;
      return stringBuilder.toString();
    } finally {
      stringBuilder.close();
    } 
  }
  
  public int h() { return this.f; }
  
  public int i() { return this.g; }
  
  public int j() { return this.h; }
  
  public a k() { return this.j; }
  
  public int l() {
    a a1 = this.a;
    return (a1 != null && a1.a() != null) ? ((g)this.a.a()).a() : this.i;
  }
  
  public void m() {
    Pair pair;
    boolean bool;
    c c1 = d.c(d());
    this.c = c1;
    if (b.a(c1)) {
      pair = n();
    } else {
      pair = o();
    } 
    if (c1 == b.a && this.d == -1) {
      if (pair != null) {
        this.e = b.a(d());
        bool = b.a(this.e);
      } else {
        return;
      } 
    } else {
      bool = false;
    } 
    this.d = bool;
  }
}
