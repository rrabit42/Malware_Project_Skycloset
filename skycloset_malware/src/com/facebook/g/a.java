package com.facebook.g;

import com.facebook.common.d.g;
import com.facebook.common.d.i;
import com.facebook.common.l.c;

public class a implements c.a {
  private static final byte[] b = { -1, -40, -1 };
  
  private static final int c = b.length;
  
  private static final byte[] d = { -119, 80, 78, 71, 13, 10, 26, 10 };
  
  private static final int e = d.length;
  
  private static final byte[] f = e.a("GIF87a");
  
  private static final byte[] g = e.a("GIF89a");
  
  private static final byte[] h = e.a("BM");
  
  private static final int i = h.length;
  
  private static final String[] j = { "heic", "heix", "hevc", "hevx" };
  
  private static final int k;
  
  final int a = g.a(new int[] { 21, 20, c, e, 6, i, k });
  
  static  {
    StringBuilder stringBuilder = new StringBuilder();
    stringBuilder.append("ftyp");
    stringBuilder.append(j[0]);
    k = e.a(stringBuilder.toString()).length;
  }
  
  private static c b(byte[] paramArrayOfByte, int paramInt) {
    i.a(c.b(paramArrayOfByte, 0, paramInt));
    return c.b(paramArrayOfByte, 0) ? b.e : (c.c(paramArrayOfByte, 0) ? b.f : (c.a(paramArrayOfByte, 0, paramInt) ? (c.a(paramArrayOfByte, 0) ? b.i : (c.d(paramArrayOfByte, 0) ? b.h : b.g)) : c.a));
  }
  
  private static boolean c(byte[] paramArrayOfByte, int paramInt) {
    byte[] arrayOfByte = b;
    return (paramInt >= arrayOfByte.length && e.a(paramArrayOfByte, arrayOfByte));
  }
  
  private static boolean d(byte[] paramArrayOfByte, int paramInt) {
    byte[] arrayOfByte = d;
    return (paramInt >= arrayOfByte.length && e.a(paramArrayOfByte, arrayOfByte));
  }
  
  private static boolean e(byte[] paramArrayOfByte, int paramInt) {
    boolean bool = false;
    if (paramInt < 6)
      return false; 
    if (e.a(paramArrayOfByte, f) || e.a(paramArrayOfByte, g))
      bool = true; 
    return bool;
  }
  
  private static boolean f(byte[] paramArrayOfByte, int paramInt) {
    byte[] arrayOfByte = h;
    return (paramInt < arrayOfByte.length) ? false : e.a(paramArrayOfByte, arrayOfByte);
  }
  
  private static boolean g(byte[] paramArrayOfByte, int paramInt) {
    if (paramInt < k)
      return false; 
    if (paramArrayOfByte[3] < 8)
      return false; 
    String[] arrayOfString = j;
    int m = arrayOfString.length;
    for (paramInt = 0; paramInt < m; paramInt++) {
      String str = arrayOfString[paramInt];
      int n = paramArrayOfByte.length;
      StringBuilder stringBuilder = new StringBuilder();
      stringBuilder.append("ftyp");
      stringBuilder.append(str);
      if (e.a(paramArrayOfByte, n, e.a(stringBuilder.toString()), k) > -1)
        return true; 
    } 
    return false;
  }
  
  public int a() { return this.a; }
  
  public final c a(byte[] paramArrayOfByte, int paramInt) {
    i.a(paramArrayOfByte);
    return c.b(paramArrayOfByte, 0, paramInt) ? b(paramArrayOfByte, paramInt) : (c(paramArrayOfByte, paramInt) ? b.a : (d(paramArrayOfByte, paramInt) ? b.b : (e(paramArrayOfByte, paramInt) ? b.c : (f(paramArrayOfByte, paramInt) ? b.d : (g(paramArrayOfByte, paramInt) ? b.j : c.a)))));
  }
}
