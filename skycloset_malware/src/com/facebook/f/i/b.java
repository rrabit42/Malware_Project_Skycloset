package com.facebook.f.i;

import android.content.Context;
import android.graphics.drawable.Drawable;
import android.view.MotionEvent;
import com.facebook.common.d.h;
import com.facebook.common.d.i;
import com.facebook.common.e.a;
import com.facebook.f.b.b;
import com.facebook.f.e.t;
import com.facebook.f.e.u;
import com.facebook.f.h.a;
import com.facebook.f.h.b;

public class b<DH extends b> extends Object implements u {
  private boolean a = false;
  
  private boolean b = false;
  
  private boolean c = true;
  
  private DH d;
  
  private a e = null;
  
  private final b f = b.a();
  
  public b(DH paramDH) {
    if (paramDH != null)
      a(paramDH); 
  }
  
  public static <DH extends b> b<DH> a(DH paramDH, Context paramContext) { // Byte code:
    //   0: new com/facebook/f/i/b
    //   3: dup
    //   4: aload_0
    //   5: invokespecial <init> : (Lcom/facebook/f/h/b;)V
    //   8: astore_0
    //   9: aload_0
    //   10: aload_1
    //   11: invokevirtual a : (Landroid/content/Context;)V
    //   14: aload_0
    //   15: areturn }
  
  private void a(u paramu) {
    Drawable drawable = f();
    if (drawable instanceof t)
      ((t)drawable).a(paramu); 
  }
  
  private void g() {
    if (this.a)
      return; 
    this.f.a(b.a.g);
    this.a = true;
    a a1 = this.e;
    if (a1 != null && a1.k() != null)
      this.e.m(); 
  }
  
  private void h() {
    if (!this.a)
      return; 
    this.f.a(b.a.h);
    this.a = false;
    if (j())
      this.e.n(); 
  }
  
  private void i() {
    if (this.b && this.c) {
      g();
      return;
    } 
    h();
  }
  
  private boolean j() {
    a a1 = this.e;
    return (a1 != null && a1.k() == this.d);
  }
  
  public void a() {
    if (this.a)
      return; 
    a.b(b.class, "%x: Draw requested for a non-attached controller %x. %s", new Object[] { Integer.valueOf(System.identityHashCode(this)), Integer.valueOf(System.identityHashCode(this.e)), toString() });
    this.b = true;
    this.c = true;
    i();
  }
  
  public void a(Context paramContext) {}
  
  public void a(a parama) {
    boolean bool = this.a;
    if (bool)
      h(); 
    if (j()) {
      this.f.a(b.a.d);
      this.e.a(null);
    } 
    this.e = parama;
    if (this.e != null) {
      this.f.a(b.a.c);
      this.e.a(this.d);
    } else {
      this.f.a(b.a.e);
    } 
    if (bool)
      g(); 
  }
  
  public void a(DH paramDH) {
    boolean bool1;
    this.f.a(b.a.a);
    boolean bool2 = j();
    a(null);
    this.d = (b)i.a(paramDH);
    Drawable drawable = this.d.a();
    if (drawable == null || drawable.isVisible()) {
      bool1 = true;
    } else {
      bool1 = false;
    } 
    a(bool1);
    a(this);
    if (bool2)
      this.e.a(paramDH); 
  }
  
  public void a(boolean paramBoolean) {
    b.a a1;
    if (this.c == paramBoolean)
      return; 
    b b1 = this.f;
    if (paramBoolean) {
      a1 = b.a.q;
    } else {
      a1 = b.a.r;
    } 
    b1.a(a1);
    this.c = paramBoolean;
    i();
  }
  
  public boolean a(MotionEvent paramMotionEvent) { return !j() ? false : this.e.a(paramMotionEvent); }
  
  public void b() {
    this.f.a(b.a.o);
    this.b = true;
    i();
  }
  
  public void c() {
    this.f.a(b.a.p);
    this.b = false;
    i();
  }
  
  public a d() { return this.e; }
  
  public DH e() { return (DH)(b)i.a(this.d); }
  
  public Drawable f() {
    b b1 = this.d;
    return (b1 == null) ? null : b1.a();
  }
  
  public String toString() { return h.a(this).a("controllerAttached", this.a).a("holderAttached", this.b).a("drawableVisible", this.c).a("events", this.f.toString()).toString(); }
}
