package com.facebook.f.e;

import android.graphics.Canvas;
import android.graphics.Matrix;
import android.graphics.PointF;
import android.graphics.Rect;
import android.graphics.drawable.Drawable;
import com.facebook.common.d.h;
import com.facebook.common.d.i;

public class p extends g {
  q.b a;
  
  Object c;
  
  PointF d = null;
  
  int e = 0;
  
  int f = 0;
  
  Matrix g;
  
  private Matrix h = new Matrix();
  
  public p(Drawable paramDrawable, q.b paramb) {
    super((Drawable)i.a(paramDrawable));
    this.a = paramb;
  }
  
  private void d() {
    boolean bool;
    q.b b3 = this.a;
    boolean bool1 = b3 instanceof q.l;
    byte b2 = 1;
    if (bool1) {
      Object object = ((q.l)b3).a();
      if (object == null || !object.equals(this.c)) {
        bool = true;
      } else {
        bool = false;
      } 
      this.c = object;
    } else {
      bool = false;
    } 
    byte b1 = b2;
    if (this.e == getCurrent().getIntrinsicWidth())
      if (this.f != getCurrent().getIntrinsicHeight()) {
        b1 = b2;
      } else {
        b1 = 0;
      }  
    if (b1 != 0 || bool)
      c(); 
  }
  
  public void a(Matrix paramMatrix) {
    b(paramMatrix);
    d();
    Matrix matrix = this.g;
    if (matrix != null)
      paramMatrix.preConcat(matrix); 
  }
  
  public void a(PointF paramPointF) {
    if (h.a(this.d, paramPointF))
      return; 
    if (this.d == null)
      this.d = new PointF(); 
    this.d.set(paramPointF);
    c();
    invalidateSelf();
  }
  
  public void a(q.b paramb) {
    if (h.a(this.a, paramb))
      return; 
    this.a = paramb;
    this.c = null;
    c();
    invalidateSelf();
  }
  
  public Drawable b(Drawable paramDrawable) {
    paramDrawable = super.b(paramDrawable);
    c();
    return paramDrawable;
  }
  
  public q.b b() { return this.a; }
  
  void c() {
    float f1;
    Drawable drawable = getCurrent();
    Rect rect = getBounds();
    int i = rect.width();
    int j = rect.height();
    int k = drawable.getIntrinsicWidth();
    this.e = k;
    int m = drawable.getIntrinsicHeight();
    this.f = m;
    if (k <= 0 || m <= 0) {
      drawable.setBounds(rect);
      this.g = null;
      return;
    } 
    if (k == i && m == j) {
      drawable.setBounds(rect);
      this.g = null;
      return;
    } 
    if (this.a == q.b.a) {
      drawable.setBounds(rect);
      this.g = null;
      return;
    } 
    drawable.setBounds(0, 0, k, m);
    q.b b1 = this.a;
    Matrix matrix = this.h;
    PointF pointF = this.d;
    float f2 = 0.5F;
    if (pointF != null) {
      f1 = pointF.x;
    } else {
      f1 = 0.5F;
    } 
    pointF = this.d;
    if (pointF != null)
      f2 = pointF.y; 
    b1.a(matrix, rect, k, m, f1, f2);
    this.g = this.h;
  }
  
  public void draw(Canvas paramCanvas) {
    d();
    if (this.g != null) {
      int i = paramCanvas.save();
      paramCanvas.clipRect(getBounds());
      paramCanvas.concat(this.g);
      super.draw(paramCanvas);
      paramCanvas.restoreToCount(i);
      return;
    } 
    super.draw(paramCanvas);
  }
  
  protected void onBoundsChange(Rect paramRect) { c(); }
}
