package com.facebook.f.e;

import android.graphics.Canvas;
import android.graphics.Matrix;
import android.graphics.Rect;
import android.graphics.RectF;
import android.graphics.drawable.Drawable;
import com.facebook.common.d.i;

public class i extends g {
  final Matrix a;
  
  private int c;
  
  private int d;
  
  private final Matrix e = new Matrix();
  
  private final RectF f = new RectF();
  
  public i(Drawable paramDrawable, int paramInt1, int paramInt2) {
    super(paramDrawable);
    boolean bool1 = true;
    if (paramInt1 % 90 == 0) {
      bool = true;
    } else {
      bool = false;
    } 
    i.a(bool);
    if (paramInt2 >= 0 && paramInt2 <= 8) {
      bool = bool1;
    } else {
      bool = false;
    } 
    i.a(bool);
    this.a = new Matrix();
    this.c = paramInt1;
    this.d = paramInt2;
  }
  
  public void a(Matrix paramMatrix) {
    b(paramMatrix);
    if (!this.a.isIdentity())
      paramMatrix.preConcat(this.a); 
  }
  
  public void draw(Canvas paramCanvas) {
    if (this.c <= 0) {
      int k = this.d;
      if (k == 0 || k == 1) {
        super.draw(paramCanvas);
        return;
      } 
    } 
    int j = paramCanvas.save();
    paramCanvas.concat(this.a);
    super.draw(paramCanvas);
    paramCanvas.restoreToCount(j);
  }
  
  public int getIntrinsicHeight() {
    int j = this.d;
    return (j == 5 || j == 7 || this.c % 180 != 0) ? super.getIntrinsicWidth() : super.getIntrinsicHeight();
  }
  
  public int getIntrinsicWidth() {
    int j = this.d;
    return (j == 5 || j == 7 || this.c % 180 != 0) ? super.getIntrinsicHeight() : super.getIntrinsicWidth();
  }
  
  protected void onBoundsChange(Rect paramRect) {
    Drawable drawable = getCurrent();
    if (this.c <= 0) {
      int k = this.d;
      if (k == 0 || k == 1) {
        drawable.setBounds(paramRect);
        return;
      } 
    } 
    int j = this.d;
    if (j != 2) {
      if (j != 7) {
        switch (j) {
          default:
            this.a.setRotate(this.c, paramRect.centerX(), paramRect.centerY());
            break;
          case 5:
            this.a.setRotate(270.0F, paramRect.centerX(), paramRect.centerY());
            this.a.postScale(1.0F, -1.0F);
            break;
          case 4:
            this.a.setScale(1.0F, -1.0F);
            break;
        } 
      } else {
        this.a.setRotate(270.0F, paramRect.centerX(), paramRect.centerY());
        this.a.postScale(-1.0F, 1.0F);
      } 
    } else {
      this.a.setScale(-1.0F, 1.0F);
    } 
    this.e.reset();
    this.a.invert(this.e);
    this.f.set(paramRect);
    this.e.mapRect(this.f);
    drawable.setBounds((int)this.f.left, (int)this.f.top, (int)this.f.right, (int)this.f.bottom);
  }
}
