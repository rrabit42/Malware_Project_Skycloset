package com.facebook.f.c;

import android.graphics.drawable.Animatable;
import android.graphics.drawable.Drawable;
import android.view.MotionEvent;
import com.facebook.c.c;
import com.facebook.common.d.h;
import com.facebook.common.d.i;
import com.facebook.common.e.a;
import com.facebook.f.b.a;
import com.facebook.f.b.b;
import com.facebook.f.b.c;
import com.facebook.f.g.a;
import com.facebook.f.h.a;
import com.facebook.f.h.b;
import com.facebook.f.h.c;
import java.util.concurrent.Executor;

public abstract class a<T, INFO> extends Object implements a.a, a.a, a {
  private static final Class<?> a = a.class;
  
  private final b b = b.a();
  
  private final a c;
  
  private final Executor d;
  
  private c e;
  
  private a f;
  
  private d<INFO> g;
  
  private e h;
  
  private c i;
  
  private Drawable j;
  
  private String k;
  
  private Object l;
  
  private boolean m;
  
  private boolean n;
  
  private boolean o;
  
  private boolean p;
  
  private boolean q;
  
  private String r;
  
  private c<T> s;
  
  private T t;
  
  private Drawable u;
  
  private boolean v = true;
  
  public a(a parama, Executor paramExecutor, String paramString, Object paramObject) {
    this.c = parama;
    this.d = paramExecutor;
    c(paramString, paramObject);
  }
  
  private void a() {
    boolean bool = this.n;
    this.n = false;
    this.p = false;
    c c1 = this.s;
    if (c1 != null) {
      c1.h();
      this.s = null;
    } 
    Drawable drawable = this.u;
    if (drawable != null)
      a(drawable); 
    if (this.r != null)
      this.r = null; 
    this.u = null;
    Object object = this.t;
    if (object != null) {
      d("release", object);
      a(this.t);
      this.t = null;
    } 
    if (bool)
      j().a(this.k); 
  }
  
  private void a(String paramString, c<T> paramc, float paramFloat, boolean paramBoolean) {
    if (!a(paramString, paramc)) {
      a("ignore_old_datasource @ onProgress", null);
      paramc.h();
      return;
    } 
    if (!paramBoolean)
      this.i.a(paramFloat, false); 
  }
  
  private void a(String paramString, c<T> paramc, T paramT, float paramFloat, boolean paramBoolean1, boolean paramBoolean2) { // Byte code:
    //   0: aload_0
    //   1: aload_1
    //   2: aload_2
    //   3: invokespecial a : (Ljava/lang/String;Lcom/facebook/c/c;)Z
    //   6: ifne -> 29
    //   9: aload_0
    //   10: ldc 'ignore_old_datasource @ onNewResult'
    //   12: aload_3
    //   13: invokespecial d : (Ljava/lang/String;Ljava/lang/Object;)V
    //   16: aload_0
    //   17: aload_3
    //   18: invokevirtual a : (Ljava/lang/Object;)V
    //   21: aload_2
    //   22: invokeinterface h : ()Z
    //   27: pop
    //   28: return
    //   29: aload_0
    //   30: getfield b : Lcom/facebook/f/b/b;
    //   33: astore #8
    //   35: iload #5
    //   37: ifeq -> 48
    //   40: getstatic com/facebook/f/b/b$a.k : Lcom/facebook/f/b/b$a;
    //   43: astore #7
    //   45: goto -> 53
    //   48: getstatic com/facebook/f/b/b$a.l : Lcom/facebook/f/b/b$a;
    //   51: astore #7
    //   53: aload #8
    //   55: aload #7
    //   57: invokevirtual a : (Lcom/facebook/f/b/b$a;)V
    //   60: aload_0
    //   61: aload_3
    //   62: invokevirtual d : (Ljava/lang/Object;)Landroid/graphics/drawable/Drawable;
    //   65: astore #7
    //   67: aload_0
    //   68: getfield t : Ljava/lang/Object;
    //   71: astore_2
    //   72: aload_0
    //   73: getfield u : Landroid/graphics/drawable/Drawable;
    //   76: astore #8
    //   78: aload_0
    //   79: aload_3
    //   80: putfield t : Ljava/lang/Object;
    //   83: aload_0
    //   84: aload #7
    //   86: putfield u : Landroid/graphics/drawable/Drawable;
    //   89: iload #5
    //   91: ifeq -> 142
    //   94: aload_0
    //   95: ldc 'set_final_result @ onNewResult'
    //   97: aload_3
    //   98: invokespecial d : (Ljava/lang/String;Ljava/lang/Object;)V
    //   101: aload_0
    //   102: aconst_null
    //   103: putfield s : Lcom/facebook/c/c;
    //   106: aload_0
    //   107: getfield i : Lcom/facebook/f/h/c;
    //   110: aload #7
    //   112: fconst_1
    //   113: iload #6
    //   115: invokeinterface a : (Landroid/graphics/drawable/Drawable;FZ)V
    //   120: aload_0
    //   121: invokevirtual j : ()Lcom/facebook/f/c/d;
    //   124: aload_1
    //   125: aload_0
    //   126: aload_3
    //   127: invokevirtual c : (Ljava/lang/Object;)Ljava/lang/Object;
    //   130: aload_0
    //   131: invokevirtual r : ()Landroid/graphics/drawable/Animatable;
    //   134: invokeinterface a : (Ljava/lang/String;Ljava/lang/Object;Landroid/graphics/drawable/Animatable;)V
    //   139: goto -> 179
    //   142: aload_0
    //   143: ldc 'set_intermediate_result @ onNewResult'
    //   145: aload_3
    //   146: invokespecial d : (Ljava/lang/String;Ljava/lang/Object;)V
    //   149: aload_0
    //   150: getfield i : Lcom/facebook/f/h/c;
    //   153: aload #7
    //   155: fload #4
    //   157: iload #6
    //   159: invokeinterface a : (Landroid/graphics/drawable/Drawable;FZ)V
    //   164: aload_0
    //   165: invokevirtual j : ()Lcom/facebook/f/c/d;
    //   168: aload_1
    //   169: aload_0
    //   170: aload_3
    //   171: invokevirtual c : (Ljava/lang/Object;)Ljava/lang/Object;
    //   174: invokeinterface b : (Ljava/lang/String;Ljava/lang/Object;)V
    //   179: aload #8
    //   181: ifnull -> 197
    //   184: aload #8
    //   186: aload #7
    //   188: if_acmpeq -> 197
    //   191: aload_0
    //   192: aload #8
    //   194: invokevirtual a : (Landroid/graphics/drawable/Drawable;)V
    //   197: aload_2
    //   198: ifnull -> 218
    //   201: aload_2
    //   202: aload_3
    //   203: if_acmpeq -> 218
    //   206: aload_0
    //   207: ldc 'release_previous_result @ onNewResult'
    //   209: aload_2
    //   210: invokespecial d : (Ljava/lang/String;Ljava/lang/Object;)V
    //   213: aload_0
    //   214: aload_2
    //   215: invokevirtual a : (Ljava/lang/Object;)V
    //   218: return
    //   219: astore_1
    //   220: aload #8
    //   222: ifnull -> 238
    //   225: aload #8
    //   227: aload #7
    //   229: if_acmpeq -> 238
    //   232: aload_0
    //   233: aload #8
    //   235: invokevirtual a : (Landroid/graphics/drawable/Drawable;)V
    //   238: aload_2
    //   239: ifnull -> 259
    //   242: aload_2
    //   243: aload_3
    //   244: if_acmpeq -> 259
    //   247: aload_0
    //   248: ldc 'release_previous_result @ onNewResult'
    //   250: aload_2
    //   251: invokespecial d : (Ljava/lang/String;Ljava/lang/Object;)V
    //   254: aload_0
    //   255: aload_2
    //   256: invokevirtual a : (Ljava/lang/Object;)V
    //   259: aload_1
    //   260: athrow
    //   261: astore #7
    //   263: aload_0
    //   264: ldc 'drawable_failed @ onNewResult'
    //   266: aload_3
    //   267: invokespecial d : (Ljava/lang/String;Ljava/lang/Object;)V
    //   270: aload_0
    //   271: aload_3
    //   272: invokevirtual a : (Ljava/lang/Object;)V
    //   275: aload_0
    //   276: aload_1
    //   277: aload_2
    //   278: aload #7
    //   280: iload #5
    //   282: invokespecial a : (Ljava/lang/String;Lcom/facebook/c/c;Ljava/lang/Throwable;Z)V
    //   285: return
    // Exception table:
    //   from	to	target	type
    //   60	67	261	java/lang/Exception
    //   94	139	219	finally
    //   142	179	219	finally }
  
  private void a(String paramString, c<T> paramc, Throwable paramThrowable, boolean paramBoolean) { // Byte code:
    //   0: aload_0
    //   1: aload_1
    //   2: aload_2
    //   3: invokespecial a : (Ljava/lang/String;Lcom/facebook/c/c;)Z
    //   6: ifne -> 24
    //   9: aload_0
    //   10: ldc 'ignore_old_datasource @ onFailure'
    //   12: aload_3
    //   13: invokespecial a : (Ljava/lang/String;Ljava/lang/Throwable;)V
    //   16: aload_2
    //   17: invokeinterface h : ()Z
    //   22: pop
    //   23: return
    //   24: aload_0
    //   25: getfield b : Lcom/facebook/f/b/b;
    //   28: astore_2
    //   29: iload #4
    //   31: ifeq -> 41
    //   34: getstatic com/facebook/f/b/b$a.m : Lcom/facebook/f/b/b$a;
    //   37: astore_1
    //   38: goto -> 45
    //   41: getstatic com/facebook/f/b/b$a.n : Lcom/facebook/f/b/b$a;
    //   44: astore_1
    //   45: aload_2
    //   46: aload_1
    //   47: invokevirtual a : (Lcom/facebook/f/b/b$a;)V
    //   50: iload #4
    //   52: ifeq -> 148
    //   55: aload_0
    //   56: ldc 'final_failed @ onFailure'
    //   58: aload_3
    //   59: invokespecial a : (Ljava/lang/String;Ljava/lang/Throwable;)V
    //   62: aload_0
    //   63: aconst_null
    //   64: putfield s : Lcom/facebook/c/c;
    //   67: aload_0
    //   68: iconst_1
    //   69: putfield p : Z
    //   72: aload_0
    //   73: getfield q : Z
    //   76: ifeq -> 103
    //   79: aload_0
    //   80: getfield u : Landroid/graphics/drawable/Drawable;
    //   83: astore_1
    //   84: aload_1
    //   85: ifnull -> 103
    //   88: aload_0
    //   89: getfield i : Lcom/facebook/f/h/c;
    //   92: aload_1
    //   93: fconst_1
    //   94: iconst_1
    //   95: invokeinterface a : (Landroid/graphics/drawable/Drawable;FZ)V
    //   100: goto -> 133
    //   103: aload_0
    //   104: invokespecial b : ()Z
    //   107: ifeq -> 123
    //   110: aload_0
    //   111: getfield i : Lcom/facebook/f/h/c;
    //   114: aload_3
    //   115: invokeinterface b : (Ljava/lang/Throwable;)V
    //   120: goto -> 133
    //   123: aload_0
    //   124: getfield i : Lcom/facebook/f/h/c;
    //   127: aload_3
    //   128: invokeinterface a : (Ljava/lang/Throwable;)V
    //   133: aload_0
    //   134: invokevirtual j : ()Lcom/facebook/f/c/d;
    //   137: aload_0
    //   138: getfield k : Ljava/lang/String;
    //   141: aload_3
    //   142: invokeinterface a : (Ljava/lang/String;Ljava/lang/Throwable;)V
    //   147: return
    //   148: aload_0
    //   149: ldc 'intermediate_failed @ onFailure'
    //   151: aload_3
    //   152: invokespecial a : (Ljava/lang/String;Ljava/lang/Throwable;)V
    //   155: aload_0
    //   156: invokevirtual j : ()Lcom/facebook/f/c/d;
    //   159: aload_0
    //   160: getfield k : Ljava/lang/String;
    //   163: aload_3
    //   164: invokeinterface b : (Ljava/lang/String;Ljava/lang/Throwable;)V
    //   169: return }
  
  private void a(String paramString, Throwable paramThrowable) {
    if (a.a(2))
      a.a(a, "controller %x %s: %s: failure: %s", Integer.valueOf(System.identityHashCode(this)), this.k, paramString, paramThrowable); 
  }
  
  private boolean a(String paramString, c<T> paramc) { return (paramc == null && this.s == null) ? true : ((paramString.equals(this.k) && paramc == this.s && this.n)); }
  
  private boolean b() {
    if (this.p) {
      c c1 = this.e;
      if (c1 != null && c1.c())
        return true; 
    } 
    return false;
  }
  
  private void c(String paramString, Object paramObject) { // Byte code:
    //   0: aload_0
    //   1: monitorenter
    //   2: aload_0
    //   3: getfield b : Lcom/facebook/f/b/b;
    //   6: getstatic com/facebook/f/b/b$a.f : Lcom/facebook/f/b/b$a;
    //   9: invokevirtual a : (Lcom/facebook/f/b/b$a;)V
    //   12: aload_0
    //   13: getfield v : Z
    //   16: ifne -> 34
    //   19: aload_0
    //   20: getfield c : Lcom/facebook/f/b/a;
    //   23: ifnull -> 34
    //   26: aload_0
    //   27: getfield c : Lcom/facebook/f/b/a;
    //   30: aload_0
    //   31: invokevirtual b : (Lcom/facebook/f/b/a$a;)V
    //   34: aload_0
    //   35: iconst_0
    //   36: putfield m : Z
    //   39: aload_0
    //   40: iconst_0
    //   41: putfield o : Z
    //   44: aload_0
    //   45: invokespecial a : ()V
    //   48: aload_0
    //   49: iconst_0
    //   50: putfield q : Z
    //   53: aload_0
    //   54: getfield e : Lcom/facebook/f/b/c;
    //   57: ifnull -> 67
    //   60: aload_0
    //   61: getfield e : Lcom/facebook/f/b/c;
    //   64: invokevirtual a : ()V
    //   67: aload_0
    //   68: getfield f : Lcom/facebook/f/g/a;
    //   71: ifnull -> 89
    //   74: aload_0
    //   75: getfield f : Lcom/facebook/f/g/a;
    //   78: invokevirtual a : ()V
    //   81: aload_0
    //   82: getfield f : Lcom/facebook/f/g/a;
    //   85: aload_0
    //   86: invokevirtual a : (Lcom/facebook/f/g/a$a;)V
    //   89: aload_0
    //   90: getfield g : Lcom/facebook/f/c/d;
    //   93: instanceof com/facebook/f/c/a$a
    //   96: ifeq -> 112
    //   99: aload_0
    //   100: getfield g : Lcom/facebook/f/c/d;
    //   103: checkcast com/facebook/f/c/a$a
    //   106: invokevirtual a : ()V
    //   109: goto -> 117
    //   112: aload_0
    //   113: aconst_null
    //   114: putfield g : Lcom/facebook/f/c/d;
    //   117: aload_0
    //   118: aconst_null
    //   119: putfield h : Lcom/facebook/f/c/e;
    //   122: aload_0
    //   123: getfield i : Lcom/facebook/f/h/c;
    //   126: ifnull -> 153
    //   129: aload_0
    //   130: getfield i : Lcom/facebook/f/h/c;
    //   133: invokeinterface b : ()V
    //   138: aload_0
    //   139: getfield i : Lcom/facebook/f/h/c;
    //   142: aconst_null
    //   143: invokeinterface a : (Landroid/graphics/drawable/Drawable;)V
    //   148: aload_0
    //   149: aconst_null
    //   150: putfield i : Lcom/facebook/f/h/c;
    //   153: aload_0
    //   154: aconst_null
    //   155: putfield j : Landroid/graphics/drawable/Drawable;
    //   158: iconst_2
    //   159: invokestatic a : (I)Z
    //   162: ifeq -> 186
    //   165: getstatic com/facebook/f/c/a.a : Ljava/lang/Class;
    //   168: ldc_w 'controller %x %s -> %s: initialize'
    //   171: aload_0
    //   172: invokestatic identityHashCode : (Ljava/lang/Object;)I
    //   175: invokestatic valueOf : (I)Ljava/lang/Integer;
    //   178: aload_0
    //   179: getfield k : Ljava/lang/String;
    //   182: aload_1
    //   183: invokestatic a : (Ljava/lang/Class;Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V
    //   186: aload_0
    //   187: aload_1
    //   188: putfield k : Ljava/lang/String;
    //   191: aload_0
    //   192: aload_2
    //   193: putfield l : Ljava/lang/Object;
    //   196: aload_0
    //   197: monitorexit
    //   198: return
    //   199: astore_1
    //   200: aload_0
    //   201: monitorexit
    //   202: aload_1
    //   203: athrow
    // Exception table:
    //   from	to	target	type
    //   2	34	199	finally
    //   34	67	199	finally
    //   67	89	199	finally
    //   89	109	199	finally
    //   112	117	199	finally
    //   117	153	199	finally
    //   153	186	199	finally
    //   186	196	199	finally }
  
  private void d(String paramString, T paramT) {
    if (a.a(2))
      a.a(a, "controller %x %s: %s: image: %s %x", new Object[] { Integer.valueOf(System.identityHashCode(this)), this.k, paramString, e(paramT), Integer.valueOf(b(paramT)) }); 
  }
  
  protected abstract void a(Drawable paramDrawable);
  
  public void a(d<? super INFO> paramd) {
    i.a(paramd);
    d d1 = this.g;
    if (d1 instanceof a) {
      ((a)d1).a(paramd);
      return;
    } 
    if (d1 != null) {
      this.g = a.a(d1, paramd);
      return;
    } 
    this.g = paramd;
  }
  
  public void a(e parame) { this.h = parame; }
  
  protected void a(a parama) {
    this.f = parama;
    parama = this.f;
    if (parama != null)
      parama.a(this); 
  }
  
  public void a(b paramb) {
    b.a a1;
    if (a.a(2))
      a.a(a, "controller %x %s: setHierarchy: %s", Integer.valueOf(System.identityHashCode(this)), this.k, paramb); 
    b b1 = this.b;
    if (paramb != null) {
      a1 = b.a.a;
    } else {
      a1 = b.a.b;
    } 
    b1.a(a1);
    if (this.n) {
      this.c.b(this);
      f();
    } 
    c c1 = this.i;
    if (c1 != null) {
      c1.a(null);
      this.i = null;
    } 
    if (paramb != null) {
      i.a(paramb instanceof c);
      this.i = (c)paramb;
      this.i.a(this.j);
    } 
  }
  
  protected abstract void a(T paramT);
  
  public void a(String paramString) { this.r = paramString; }
  
  protected void a(String paramString, T paramT) {}
  
  public boolean a(MotionEvent paramMotionEvent) {
    if (a.a(2))
      a.a(a, "controller %x %s: onTouchEvent %s", Integer.valueOf(System.identityHashCode(this)), this.k, paramMotionEvent); 
    a a1 = this.f;
    if (a1 == null)
      return false; 
    if (a1.c() || o()) {
      this.f.a(paramMotionEvent);
      return true;
    } 
    return false;
  }
  
  protected int b(T paramT) { return System.identityHashCode(paramT); }
  
  protected void b(Drawable paramDrawable) {
    this.j = paramDrawable;
    c c1 = this.i;
    if (c1 != null)
      c1.a(this.j); 
  }
  
  public void b(d<? super INFO> paramd) {
    i.a(paramd);
    d d1 = this.g;
    if (d1 instanceof a) {
      ((a)d1).b(paramd);
      return;
    } 
    if (d1 == paramd)
      this.g = null; 
  }
  
  protected void b(String paramString, Object paramObject) {
    c(paramString, paramObject);
    this.v = false;
  }
  
  protected void b(boolean paramBoolean) { this.q = paramBoolean; }
  
  protected abstract c<T> c();
  
  protected abstract INFO c(T paramT);
  
  protected abstract Drawable d(T paramT);
  
  protected T e() { return null; }
  
  protected String e(T paramT) { return (paramT != null) ? paramT.getClass().getSimpleName() : "<null>"; }
  
  public void f() {
    this.b.a(b.a.i);
    c c2 = this.e;
    if (c2 != null)
      c2.b(); 
    a a1 = this.f;
    if (a1 != null)
      a1.b(); 
    c c1 = this.i;
    if (c1 != null)
      c1.b(); 
    a();
  }
  
  public String g() { return this.k; }
  
  protected c h() {
    if (this.e == null)
      this.e = new c(); 
    return this.e;
  }
  
  protected a i() { return this.f; }
  
  protected d<INFO> j() {
    d d2 = this.g;
    d d1 = d2;
    if (d2 == null)
      d1 = c.a(); 
    return d1;
  }
  
  public b k() { return this.i; }
  
  protected Drawable l() { return this.j; }
  
  public void m() {
    if (a.a(2)) {
      String str1;
      Class clazz = a;
      int i1 = System.identityHashCode(this);
      String str2 = this.k;
      if (this.n) {
        str1 = "request already submitted";
      } else {
        str1 = "request needs submit";
      } 
      a.a(clazz, "controller %x %s: onAttach: %s", Integer.valueOf(i1), str2, str1);
    } 
    this.b.a(b.a.g);
    i.a(this.i);
    this.c.b(this);
    this.m = true;
    if (!this.n)
      q(); 
  }
  
  public void n() {
    if (a.a(2))
      a.a(a, "controller %x %s: onDetach", Integer.valueOf(System.identityHashCode(this)), this.k); 
    this.b.a(b.a.h);
    this.m = false;
    this.c.a(this);
  }
  
  protected boolean o() { return b(); }
  
  public boolean p() {
    if (a.a(2))
      a.a(a, "controller %x %s: onClick", Integer.valueOf(System.identityHashCode(this)), this.k); 
    if (b()) {
      this.e.d();
      this.i.b();
      q();
      return true;
    } 
    return false;
  }
  
  protected void q() {
    Object object = e();
    if (object != null) {
      this.s = null;
      this.n = true;
      this.p = false;
      this.b.a(b.a.x);
      j().a(this.k, this.l);
      a(this.k, object);
      a(this.k, this.s, object, 1.0F, true, true);
      return;
    } 
    this.b.a(b.a.j);
    j().a(this.k, this.l);
    this.i.a(0.0F, true);
    this.n = true;
    this.p = false;
    this.s = c();
    if (a.a(2))
      a.a(a, "controller %x %s: submitRequest: dataSource: %x", Integer.valueOf(System.identityHashCode(this)), this.k, Integer.valueOf(System.identityHashCode(this.s))); 
    object = new Object(this, this.k, this.s.c());
    this.s.a(object, this.d);
  }
  
  public Animatable r() {
    Drawable drawable = this.u;
    return (drawable instanceof Animatable) ? (Animatable)drawable : null;
  }
  
  public String toString() { return h.a(this).a("isAttached", this.m).a("isRequestSubmitted", this.n).a("hasFetchFailed", this.p).a("fetchedImage", b(this.t)).a("events", this.b.toString()).toString(); }
}
