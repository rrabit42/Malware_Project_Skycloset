package com.facebook.f.c;

import android.content.Context;
import com.facebook.c.c;
import com.facebook.c.d;
import com.facebook.c.f;
import com.facebook.c.g;
import com.facebook.common.d.l;
import com.facebook.f.g.a;
import com.facebook.f.h.a;
import com.facebook.f.h.d;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.Set;
import java.util.concurrent.atomic.AtomicLong;

public abstract class b<BUILDER extends b<BUILDER, REQUEST, IMAGE, INFO>, REQUEST, IMAGE, INFO> extends Object implements d {
  private static final d<Object> a = new Object();
  
  private static final NullPointerException b = new NullPointerException("No image request was specified!");
  
  private static final AtomicLong r = new AtomicLong();
  
  private final Context c;
  
  private final Set<d> d;
  
  private Object e;
  
  private REQUEST f;
  
  private REQUEST g;
  
  private REQUEST[] h;
  
  private boolean i;
  
  private l<c<IMAGE>> j;
  
  private d<? super INFO> k;
  
  private e l;
  
  private boolean m;
  
  private boolean n;
  
  private boolean o;
  
  private String p;
  
  private a q;
  
  protected b(Context paramContext, Set<d> paramSet) {
    this.c = paramContext;
    this.d = paramSet;
    a();
  }
  
  private void a() {
    this.e = null;
    this.f = null;
    this.g = null;
    this.h = null;
    this.i = true;
    this.k = null;
    this.l = null;
    this.m = false;
    this.n = false;
    this.q = null;
    this.p = null;
  }
  
  protected static String m() { return String.valueOf(r.getAndIncrement()); }
  
  protected abstract c<IMAGE> a(a parama, String paramString, REQUEST paramREQUEST, Object paramObject, a parama1);
  
  protected l<c<IMAGE>> a(a parama, String paramString) {
    l l1 = this.j;
    if (l1 != null)
      return l1; 
    l1 = null;
    Object object2 = this.f;
    if (object2 != null) {
      l1 = a(parama, paramString, object2);
    } else {
      Object[] arrayOfObject = this.h;
      if (arrayOfObject != null)
        l1 = a(parama, paramString, arrayOfObject, this.i); 
    } 
    object2 = l1;
    if (l1 != null) {
      object2 = l1;
      if (this.g != null) {
        object2 = new ArrayList(2);
        object2.add(l1);
        object2.add(a(parama, paramString, this.g));
        object2 = g.a(object2, false);
      } 
    } 
    Object object1 = object2;
    if (object2 == null)
      object1 = d.b(b); 
    return object1;
  }
  
  protected l<c<IMAGE>> a(a parama, String paramString, REQUEST paramREQUEST) { return a(parama, paramString, paramREQUEST, a.a); }
  
  protected l<c<IMAGE>> a(a parama, String paramString, REQUEST paramREQUEST, a parama1) { return new Object(this, parama, paramString, paramREQUEST, d(), parama1); }
  
  protected l<c<IMAGE>> a(a parama, String paramString, REQUEST[] paramArrayOfREQUEST, boolean paramBoolean) {
    ArrayList arrayList = new ArrayList(paramArrayOfREQUEST.length * 2);
    byte b2 = 0;
    byte b1 = b2;
    if (paramBoolean) {
      byte b3 = 0;
      while (true) {
        b1 = b2;
        if (b3 < paramArrayOfREQUEST.length) {
          arrayList.add(a(parama, paramString, paramArrayOfREQUEST[b3], a.c));
          b3++;
          continue;
        } 
        break;
      } 
    } 
    while (b1 < paramArrayOfREQUEST.length) {
      arrayList.add(a(parama, paramString, paramArrayOfREQUEST[b1]));
      b1++;
    } 
    return f.a(arrayList);
  }
  
  public BUILDER a(d<? super INFO> paramd) {
    this.k = paramd;
    return (BUILDER)n();
  }
  
  public BUILDER a(Object paramObject) {
    this.e = paramObject;
    return (BUILDER)n();
  }
  
  public BUILDER a(boolean paramBoolean) {
    this.n = paramBoolean;
    return (BUILDER)n();
  }
  
  protected void a(a parama) {
    Set set = this.d;
    if (set != null) {
      Iterator iterator = set.iterator();
      while (iterator.hasNext())
        parama.a((d)iterator.next()); 
    } 
    d d1 = this.k;
    if (d1 != null)
      parama.a(d1); 
    if (this.n)
      parama.a(a); 
  }
  
  protected abstract a b();
  
  public BUILDER b(a parama) {
    this.q = parama;
    return (BUILDER)n();
  }
  
  public BUILDER b(REQUEST paramREQUEST) {
    this.f = paramREQUEST;
    return (BUILDER)n();
  }
  
  protected void b(a parama) {
    if (!this.m)
      return; 
    parama.h().a(this.m);
    c(parama);
  }
  
  public BUILDER c() {
    a();
    return (BUILDER)n();
  }
  
  public BUILDER c(REQUEST paramREQUEST) {
    this.g = paramREQUEST;
    return (BUILDER)n();
  }
  
  protected void c(a parama) {
    if (parama.i() == null)
      parama.a(a.a(this.c)); 
  }
  
  public Object d() { return this.e; }
  
  public REQUEST e() { return (REQUEST)this.f; }
  
  public boolean f() { return this.o; }
  
  public e g() { return this.l; }
  
  public String h() { return this.p; }
  
  public a i() { return this.q; }
  
  public a j() {
    k();
    if (this.f == null && this.h == null) {
      Object object = this.g;
      if (object != null) {
        this.f = object;
        this.g = null;
      } 
    } 
    return l();
  }
  
  protected void k() { // Byte code:
    //   0: aload_0
    //   1: getfield h : [Ljava/lang/Object;
    //   4: astore_3
    //   5: iconst_0
    //   6: istore_2
    //   7: aload_3
    //   8: ifnull -> 26
    //   11: aload_0
    //   12: getfield f : Ljava/lang/Object;
    //   15: ifnonnull -> 21
    //   18: goto -> 26
    //   21: iconst_0
    //   22: istore_1
    //   23: goto -> 28
    //   26: iconst_1
    //   27: istore_1
    //   28: iload_1
    //   29: ldc 'Cannot specify both ImageRequest and FirstAvailableImageRequests!'
    //   31: invokestatic b : (ZLjava/lang/Object;)V
    //   34: aload_0
    //   35: getfield j : Lcom/facebook/common/d/l;
    //   38: ifnull -> 68
    //   41: iload_2
    //   42: istore_1
    //   43: aload_0
    //   44: getfield h : [Ljava/lang/Object;
    //   47: ifnonnull -> 70
    //   50: iload_2
    //   51: istore_1
    //   52: aload_0
    //   53: getfield f : Ljava/lang/Object;
    //   56: ifnonnull -> 70
    //   59: iload_2
    //   60: istore_1
    //   61: aload_0
    //   62: getfield g : Ljava/lang/Object;
    //   65: ifnonnull -> 70
    //   68: iconst_1
    //   69: istore_1
    //   70: iload_1
    //   71: ldc 'Cannot specify DataSourceSupplier with other ImageRequests! Use one or the other.'
    //   73: invokestatic b : (ZLjava/lang/Object;)V
    //   76: return }
  
  protected a l() {
    a a1 = b();
    a1.b(f());
    a1.a(h());
    a1.a(g());
    b(a1);
    a(a1);
    return a1;
  }
  
  protected final BUILDER n() { return (BUILDER)this; }
}
