package com.facebook.react.g;

import com.facebook.react.bridge.ReadableArray;
import com.facebook.react.bridge.ReadableMap;
import com.facebook.react.bridge.ReadableType;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class a {
  private static final Pattern a = Pattern.compile("\\b((?:seg-\\d+(?:_\\d+)?|\\d+)\\.js)");
  
  private static String a(ReadableMap paramReadableMap) {
    if (paramReadableMap.hasKey("file") && !paramReadableMap.isNull("file") && paramReadableMap.getType("file") == ReadableType.String) {
      Matcher matcher = a.matcher(paramReadableMap.getString("file"));
      if (matcher.find()) {
        StringBuilder stringBuilder = new StringBuilder();
        stringBuilder.append(matcher.group(1));
        stringBuilder.append(":");
        return stringBuilder.toString();
      } 
    } 
    return "";
  }
  
  public static String a(String paramString, ReadableArray paramReadableArray) {
    StringBuilder stringBuilder = new StringBuilder(paramString);
    stringBuilder.append(", stack:\n");
    for (byte b = 0; b < paramReadableArray.size(); b++) {
      byte b1;
      ReadableMap readableMap = paramReadableArray.getMap(b);
      stringBuilder.append(readableMap.getString("methodName"));
      stringBuilder.append("@");
      stringBuilder.append(a(readableMap));
      if (readableMap.hasKey("lineNumber") && !readableMap.isNull("lineNumber") && readableMap.getType("lineNumber") == ReadableType.Number) {
        b1 = readableMap.getInt("lineNumber");
      } else {
        b1 = -1;
      } 
      stringBuilder.append(b1);
      if (readableMap.hasKey("column") && !readableMap.isNull("column") && readableMap.getType("column") == ReadableType.Number) {
        stringBuilder.append(":");
        stringBuilder.append(readableMap.getInt("column"));
      } 
      stringBuilder.append("\n");
    } 
    return stringBuilder.toString();
  }
}
