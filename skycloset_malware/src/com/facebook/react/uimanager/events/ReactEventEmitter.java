package com.facebook.react.uimanager.events;

import android.util.SparseArray;
import com.facebook.i.a.a;
import com.facebook.react.bridge.ReactApplicationContext;
import com.facebook.react.bridge.WritableArray;
import com.facebook.react.bridge.WritableMap;
import com.facebook.react.uimanager.common.b;

public class ReactEventEmitter implements RCTEventEmitter {
  private static final String TAG = "ReactEventEmitter";
  
  private final SparseArray<RCTEventEmitter> mEventEmitters = new SparseArray();
  
  private final ReactApplicationContext mReactContext;
  
  static  {
  
  }
  
  public ReactEventEmitter(ReactApplicationContext paramReactApplicationContext) { this.mReactContext = paramReactApplicationContext; }
  
  private RCTEventEmitter getEventEmitter(int paramInt) {
    paramInt = b.a(paramInt);
    RCTEventEmitter rCTEventEmitter2 = (RCTEventEmitter)this.mEventEmitters.get(paramInt);
    RCTEventEmitter rCTEventEmitter1 = rCTEventEmitter2;
    if (rCTEventEmitter2 == null)
      rCTEventEmitter1 = (RCTEventEmitter)this.mReactContext.getJSModule(RCTEventEmitter.class); 
    return rCTEventEmitter1;
  }
  
  public void receiveEvent(int paramInt, String paramString, WritableMap paramWritableMap) { getEventEmitter(paramInt).receiveEvent(paramInt, paramString, paramWritableMap); }
  
  public void receiveTouches(String paramString, WritableArray paramWritableArray1, WritableArray paramWritableArray2) {
    boolean bool;
    if (paramWritableArray1.size() > 0) {
      bool = true;
    } else {
      bool = false;
    } 
    a.a(bool);
    getEventEmitter(paramWritableArray1.getMap(0).getInt("target")).receiveTouches(paramString, paramWritableArray1, paramWritableArray2);
  }
  
  public void register(int paramInt, RCTEventEmitter paramRCTEventEmitter) { this.mEventEmitters.put(paramInt, paramRCTEventEmitter); }
  
  public void unregister(int paramInt) { this.mEventEmitters.remove(paramInt); }
}
