package com.facebook.react.modules.statusbar;

import android.app.Activity;
import android.os.Build;
import com.facebook.common.e.a;
import com.facebook.react.bridge.ReactApplicationContext;
import com.facebook.react.bridge.ReactContextBaseJavaModule;
import com.facebook.react.bridge.ReactMethod;
import com.facebook.react.bridge.UiThreadUtil;
import com.facebook.react.common.e;
import com.facebook.react.module.a.a;
import com.facebook.react.uimanager.o;
import java.util.Map;

@a(a = "StatusBarManager")
public class StatusBarModule extends ReactContextBaseJavaModule {
  private static final String DEFAULT_BACKGROUND_COLOR_KEY = "DEFAULT_BACKGROUND_COLOR";
  
  private static final String HEIGHT_KEY = "HEIGHT";
  
  public static final String NAME = "StatusBarManager";
  
  public StatusBarModule(ReactApplicationContext paramReactApplicationContext) { super(paramReactApplicationContext); }
  
  public Map<String, Object> getConstants() {
    float f;
    ReactApplicationContext reactApplicationContext = getReactApplicationContext();
    Activity activity = getCurrentActivity();
    int i = reactApplicationContext.getResources().getIdentifier("status_bar_height", "dimen", "android");
    if (i > 0) {
      f = o.d(reactApplicationContext.getResources().getDimensionPixelSize(i));
    } else {
      f = 0.0F;
    } 
    String str2 = "black";
    String str1 = str2;
    if (activity != null) {
      str1 = str2;
      if (Build.VERSION.SDK_INT >= 21)
        str1 = String.format("#%06X", new Object[] { Integer.valueOf(activity.getWindow().getStatusBarColor() & 0xFFFFFF) }); 
    } 
    return e.a("HEIGHT", Float.valueOf(f), "DEFAULT_BACKGROUND_COLOR", str1);
  }
  
  public String getName() { return "StatusBarManager"; }
  
  @ReactMethod
  public void setColor(int paramInt, boolean paramBoolean) {
    Activity activity = getCurrentActivity();
    if (activity == null) {
      a.c("ReactNative", "StatusBarModule: Ignored status bar change, current activity is null.");
      return;
    } 
    if (Build.VERSION.SDK_INT >= 21)
      UiThreadUtil.runOnUiThread(new Object(this, getReactApplicationContext(), activity, paramBoolean, paramInt)); 
  }
  
  @ReactMethod
  public void setHidden(boolean paramBoolean) {
    Activity activity = getCurrentActivity();
    if (activity == null) {
      a.c("ReactNative", "StatusBarModule: Ignored status bar change, current activity is null.");
      return;
    } 
    UiThreadUtil.runOnUiThread(new Object(this, paramBoolean, activity));
  }
  
  @ReactMethod
  public void setStyle(String paramString) {
    Activity activity = getCurrentActivity();
    if (activity == null) {
      a.c("ReactNative", "StatusBarModule: Ignored status bar change, current activity is null.");
      return;
    } 
    if (Build.VERSION.SDK_INT >= 23)
      UiThreadUtil.runOnUiThread(new Object(this, activity, paramString)); 
  }
  
  @ReactMethod
  public void setTranslucent(boolean paramBoolean) {
    Activity activity = getCurrentActivity();
    if (activity == null) {
      a.c("ReactNative", "StatusBarModule: Ignored status bar change, current activity is null.");
      return;
    } 
    if (Build.VERSION.SDK_INT >= 21)
      UiThreadUtil.runOnUiThread(new Object(this, getReactApplicationContext(), activity, paramBoolean)); 
  }
}
