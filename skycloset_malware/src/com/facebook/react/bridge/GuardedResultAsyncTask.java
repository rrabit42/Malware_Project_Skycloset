package com.facebook.react.bridge;

import android.os.AsyncTask;

public abstract class GuardedResultAsyncTask<Result> extends AsyncTask<Void, Void, Result> {
  private final ReactContext mReactContext;
  
  protected GuardedResultAsyncTask(ReactContext paramReactContext) { this.mReactContext = paramReactContext; }
  
  protected final Result doInBackground(Void... paramVarArgs) {
    try {
      return (Result)doInBackgroundGuarded();
    } catch (RuntimeException paramVarArgs) {
      this.mReactContext.handleException(paramVarArgs);
      throw paramVarArgs;
    } 
  }
  
  protected abstract Result doInBackgroundGuarded();
  
  protected final void onPostExecute(Result paramResult) {
    try {
      onPostExecuteGuarded(paramResult);
      return;
    } catch (RuntimeException paramResult) {
      this.mReactContext.handleException(paramResult);
      return;
    } 
  }
  
  protected abstract void onPostExecuteGuarded(Result paramResult);
}
