package com.facebook.react.bridge;

import com.facebook.d.b.c;
import com.facebook.d.c.a;
import com.facebook.j.a.a;
import com.facebook.react.module.model.ReactModuleInfo;
import java.util.concurrent.atomic.AtomicInteger;
import javax.inject.Provider;

@a
public class ModuleHolder {
  private static final AtomicInteger sInstanceKeyCounter = new AtomicInteger(1);
  
  private boolean mInitializable;
  
  private final int mInstanceKey = sInstanceKeyCounter.getAndIncrement();
  
  private boolean mIsCreating;
  
  private boolean mIsInitializing;
  
  private NativeModule mModule;
  
  private final String mName;
  
  private Provider<? extends NativeModule> mProvider;
  
  private final ReactModuleInfo mReactModuleInfo;
  
  public ModuleHolder(NativeModule paramNativeModule) {
    this.mName = paramNativeModule.getName();
    this.mReactModuleInfo = new ReactModuleInfo(paramNativeModule.getName(), paramNativeModule.getClass().getSimpleName(), paramNativeModule.canOverrideExistingModule(), true, true, CxxModuleWrapper.class.isAssignableFrom(paramNativeModule.getClass()), com.facebook.react.f.a.a.a.class.isAssignableFrom(paramNativeModule.getClass()));
    this.mModule = paramNativeModule;
    c.a().a(a.e, "NativeModule init: %s", new Object[] { this.mName });
  }
  
  public ModuleHolder(ReactModuleInfo paramReactModuleInfo, Provider<? extends NativeModule> paramProvider) {
    this.mName = paramReactModuleInfo.a();
    this.mProvider = paramProvider;
    this.mReactModuleInfo = paramReactModuleInfo;
    if (paramReactModuleInfo.d())
      this.mModule = create(); 
  }
  
  private NativeModule create() { // Byte code:
    //   0: aload_0
    //   1: getfield mModule : Lcom/facebook/react/bridge/NativeModule;
    //   4: astore_3
    //   5: iconst_1
    //   6: istore_1
    //   7: aload_3
    //   8: ifnonnull -> 16
    //   11: iconst_1
    //   12: istore_2
    //   13: goto -> 18
    //   16: iconst_0
    //   17: istore_2
    //   18: iload_2
    //   19: ldc 'Creating an already created module.'
    //   21: invokestatic assertCondition : (ZLjava/lang/String;)V
    //   24: getstatic com/facebook/react/bridge/ReactMarkerConstants.CREATE_MODULE_START : Lcom/facebook/react/bridge/ReactMarkerConstants;
    //   27: aload_0
    //   28: getfield mName : Ljava/lang/String;
    //   31: aload_0
    //   32: getfield mInstanceKey : I
    //   35: invokestatic logMarker : (Lcom/facebook/react/bridge/ReactMarkerConstants;Ljava/lang/String;I)V
    //   38: lconst_0
    //   39: ldc 'ModuleHolder.createModule'
    //   41: invokestatic a : (JLjava/lang/String;)Lcom/facebook/systrace/b$a;
    //   44: ldc 'name'
    //   46: aload_0
    //   47: getfield mName : Ljava/lang/String;
    //   50: invokevirtual a : (Ljava/lang/String;Ljava/lang/Object;)Lcom/facebook/systrace/b$a;
    //   53: invokevirtual a : ()V
    //   56: invokestatic a : ()Lcom/facebook/d/b/b;
    //   59: getstatic com/facebook/d/c/a.e : Lcom/facebook/d/a/a/a;
    //   62: ldc 'NativeModule init: %s'
    //   64: iconst_1
    //   65: anewarray java/lang/Object
    //   68: dup
    //   69: iconst_0
    //   70: aload_0
    //   71: getfield mName : Ljava/lang/String;
    //   74: aastore
    //   75: invokeinterface a : (Lcom/facebook/d/a/a/a;Ljava/lang/String;[Ljava/lang/Object;)V
    //   80: aload_0
    //   81: getfield mProvider : Ljavax/inject/Provider;
    //   84: invokestatic a : (Ljava/lang/Object;)Ljava/lang/Object;
    //   87: checkcast javax/inject/Provider
    //   90: invokeinterface b : ()Ljava/lang/Object;
    //   95: checkcast com/facebook/react/bridge/NativeModule
    //   98: astore_3
    //   99: aload_0
    //   100: aconst_null
    //   101: putfield mProvider : Ljavax/inject/Provider;
    //   104: aload_0
    //   105: monitorenter
    //   106: aload_0
    //   107: aload_3
    //   108: putfield mModule : Lcom/facebook/react/bridge/NativeModule;
    //   111: aload_0
    //   112: getfield mInitializable : Z
    //   115: ifeq -> 191
    //   118: aload_0
    //   119: getfield mIsInitializing : Z
    //   122: ifne -> 191
    //   125: goto -> 128
    //   128: aload_0
    //   129: monitorexit
    //   130: iload_1
    //   131: ifeq -> 139
    //   134: aload_0
    //   135: aload_3
    //   136: invokespecial doInitialize : (Lcom/facebook/react/bridge/NativeModule;)V
    //   139: getstatic com/facebook/react/bridge/ReactMarkerConstants.CREATE_MODULE_END : Lcom/facebook/react/bridge/ReactMarkerConstants;
    //   142: aload_0
    //   143: getfield mName : Ljava/lang/String;
    //   146: aload_0
    //   147: getfield mInstanceKey : I
    //   150: invokestatic logMarker : (Lcom/facebook/react/bridge/ReactMarkerConstants;Ljava/lang/String;I)V
    //   153: lconst_0
    //   154: invokestatic a : (J)Lcom/facebook/systrace/b$a;
    //   157: invokevirtual a : ()V
    //   160: aload_3
    //   161: areturn
    //   162: astore_3
    //   163: aload_0
    //   164: monitorexit
    //   165: aload_3
    //   166: athrow
    //   167: astore_3
    //   168: getstatic com/facebook/react/bridge/ReactMarkerConstants.CREATE_MODULE_END : Lcom/facebook/react/bridge/ReactMarkerConstants;
    //   171: aload_0
    //   172: getfield mName : Ljava/lang/String;
    //   175: aload_0
    //   176: getfield mInstanceKey : I
    //   179: invokestatic logMarker : (Lcom/facebook/react/bridge/ReactMarkerConstants;Ljava/lang/String;I)V
    //   182: lconst_0
    //   183: invokestatic a : (J)Lcom/facebook/systrace/b$a;
    //   186: invokevirtual a : ()V
    //   189: aload_3
    //   190: athrow
    //   191: iconst_0
    //   192: istore_1
    //   193: goto -> 128
    // Exception table:
    //   from	to	target	type
    //   80	106	167	finally
    //   106	125	162	finally
    //   128	130	162	finally
    //   134	139	167	finally
    //   163	165	162	finally
    //   165	167	167	finally }
  
  private void doInitialize(NativeModule paramNativeModule) { // Byte code:
    //   0: lconst_0
    //   1: ldc 'ModuleHolder.initialize'
    //   3: invokestatic a : (JLjava/lang/String;)Lcom/facebook/systrace/b$a;
    //   6: ldc 'name'
    //   8: aload_0
    //   9: getfield mName : Ljava/lang/String;
    //   12: invokevirtual a : (Ljava/lang/String;Ljava/lang/Object;)Lcom/facebook/systrace/b$a;
    //   15: invokevirtual a : ()V
    //   18: getstatic com/facebook/react/bridge/ReactMarkerConstants.INITIALIZE_MODULE_START : Lcom/facebook/react/bridge/ReactMarkerConstants;
    //   21: aload_0
    //   22: getfield mName : Ljava/lang/String;
    //   25: aload_0
    //   26: getfield mInstanceKey : I
    //   29: invokestatic logMarker : (Lcom/facebook/react/bridge/ReactMarkerConstants;Ljava/lang/String;I)V
    //   32: aload_0
    //   33: monitorenter
    //   34: aload_0
    //   35: getfield mInitializable : Z
    //   38: istore_3
    //   39: iconst_1
    //   40: istore_2
    //   41: iload_3
    //   42: ifeq -> 140
    //   45: aload_0
    //   46: getfield mIsInitializing : Z
    //   49: ifne -> 140
    //   52: aload_0
    //   53: iconst_1
    //   54: putfield mIsInitializing : Z
    //   57: goto -> 60
    //   60: aload_0
    //   61: monitorexit
    //   62: iload_2
    //   63: ifeq -> 89
    //   66: aload_1
    //   67: invokeinterface initialize : ()V
    //   72: aload_0
    //   73: monitorenter
    //   74: aload_0
    //   75: iconst_0
    //   76: putfield mIsInitializing : Z
    //   79: aload_0
    //   80: monitorexit
    //   81: goto -> 89
    //   84: astore_1
    //   85: aload_0
    //   86: monitorexit
    //   87: aload_1
    //   88: athrow
    //   89: getstatic com/facebook/react/bridge/ReactMarkerConstants.INITIALIZE_MODULE_END : Lcom/facebook/react/bridge/ReactMarkerConstants;
    //   92: aload_0
    //   93: getfield mName : Ljava/lang/String;
    //   96: aload_0
    //   97: getfield mInstanceKey : I
    //   100: invokestatic logMarker : (Lcom/facebook/react/bridge/ReactMarkerConstants;Ljava/lang/String;I)V
    //   103: lconst_0
    //   104: invokestatic a : (J)Lcom/facebook/systrace/b$a;
    //   107: invokevirtual a : ()V
    //   110: return
    //   111: astore_1
    //   112: aload_0
    //   113: monitorexit
    //   114: aload_1
    //   115: athrow
    //   116: astore_1
    //   117: getstatic com/facebook/react/bridge/ReactMarkerConstants.INITIALIZE_MODULE_END : Lcom/facebook/react/bridge/ReactMarkerConstants;
    //   120: aload_0
    //   121: getfield mName : Ljava/lang/String;
    //   124: aload_0
    //   125: getfield mInstanceKey : I
    //   128: invokestatic logMarker : (Lcom/facebook/react/bridge/ReactMarkerConstants;Ljava/lang/String;I)V
    //   131: lconst_0
    //   132: invokestatic a : (J)Lcom/facebook/systrace/b$a;
    //   135: invokevirtual a : ()V
    //   138: aload_1
    //   139: athrow
    //   140: iconst_0
    //   141: istore_2
    //   142: goto -> 60
    // Exception table:
    //   from	to	target	type
    //   32	34	116	finally
    //   34	39	111	finally
    //   45	57	111	finally
    //   60	62	111	finally
    //   66	74	116	finally
    //   74	81	84	finally
    //   85	87	84	finally
    //   87	89	116	finally
    //   112	114	111	finally
    //   114	116	116	finally }
  
  public void destroy() { // Byte code:
    //   0: aload_0
    //   1: monitorenter
    //   2: aload_0
    //   3: getfield mModule : Lcom/facebook/react/bridge/NativeModule;
    //   6: ifnull -> 18
    //   9: aload_0
    //   10: getfield mModule : Lcom/facebook/react/bridge/NativeModule;
    //   13: invokeinterface onCatalystInstanceDestroy : ()V
    //   18: aload_0
    //   19: monitorexit
    //   20: return
    //   21: astore_1
    //   22: aload_0
    //   23: monitorexit
    //   24: aload_1
    //   25: athrow
    // Exception table:
    //   from	to	target	type
    //   2	18	21	finally }
  
  public boolean getCanOverrideExistingModule() { return this.mReactModuleInfo.c(); }
  
  public String getClassName() { return this.mReactModuleInfo.b(); }
  
  public boolean getHasConstants() { return this.mReactModuleInfo.e(); }
  
  @a
  public NativeModule getModule() { // Byte code:
    //   0: aload_0
    //   1: monitorenter
    //   2: aload_0
    //   3: getfield mModule : Lcom/facebook/react/bridge/NativeModule;
    //   6: ifnull -> 18
    //   9: aload_0
    //   10: getfield mModule : Lcom/facebook/react/bridge/NativeModule;
    //   13: astore_3
    //   14: aload_0
    //   15: monitorexit
    //   16: aload_3
    //   17: areturn
    //   18: aload_0
    //   19: getfield mIsCreating : Z
    //   22: istore_2
    //   23: iconst_1
    //   24: istore_1
    //   25: iload_2
    //   26: ifne -> 122
    //   29: aload_0
    //   30: iconst_1
    //   31: putfield mIsCreating : Z
    //   34: goto -> 37
    //   37: aload_0
    //   38: monitorexit
    //   39: iload_1
    //   40: ifeq -> 68
    //   43: aload_0
    //   44: invokespecial create : ()Lcom/facebook/react/bridge/NativeModule;
    //   47: astore_3
    //   48: aload_0
    //   49: monitorenter
    //   50: aload_0
    //   51: iconst_0
    //   52: putfield mIsCreating : Z
    //   55: aload_0
    //   56: invokevirtual notifyAll : ()V
    //   59: aload_0
    //   60: monitorexit
    //   61: aload_3
    //   62: areturn
    //   63: astore_3
    //   64: aload_0
    //   65: monitorexit
    //   66: aload_3
    //   67: athrow
    //   68: aload_0
    //   69: monitorenter
    //   70: aload_0
    //   71: getfield mModule : Lcom/facebook/react/bridge/NativeModule;
    //   74: ifnonnull -> 93
    //   77: aload_0
    //   78: getfield mIsCreating : Z
    //   81: istore_2
    //   82: iload_2
    //   83: ifeq -> 93
    //   86: aload_0
    //   87: invokevirtual wait : ()V
    //   90: goto -> 70
    //   93: aload_0
    //   94: getfield mModule : Lcom/facebook/react/bridge/NativeModule;
    //   97: invokestatic a : (Ljava/lang/Object;)Ljava/lang/Object;
    //   100: checkcast com/facebook/react/bridge/NativeModule
    //   103: astore_3
    //   104: aload_0
    //   105: monitorexit
    //   106: aload_3
    //   107: areturn
    //   108: astore_3
    //   109: aload_0
    //   110: monitorexit
    //   111: aload_3
    //   112: athrow
    //   113: astore_3
    //   114: aload_0
    //   115: monitorexit
    //   116: aload_3
    //   117: athrow
    //   118: astore_3
    //   119: goto -> 70
    //   122: iconst_0
    //   123: istore_1
    //   124: goto -> 37
    // Exception table:
    //   from	to	target	type
    //   2	16	113	finally
    //   18	23	113	finally
    //   29	34	113	finally
    //   37	39	113	finally
    //   50	61	63	finally
    //   64	66	63	finally
    //   70	82	108	finally
    //   86	90	118	java/lang/InterruptedException
    //   86	90	108	finally
    //   93	106	108	finally
    //   109	111	108	finally
    //   114	116	113	finally }
  
  @a
  public String getName() { return this.mName; }
  
  boolean hasInstance() { // Byte code:
    //   0: aload_0
    //   1: monitorenter
    //   2: aload_0
    //   3: getfield mModule : Lcom/facebook/react/bridge/NativeModule;
    //   6: astore_2
    //   7: aload_2
    //   8: ifnull -> 16
    //   11: iconst_1
    //   12: istore_1
    //   13: goto -> 18
    //   16: iconst_0
    //   17: istore_1
    //   18: aload_0
    //   19: monitorexit
    //   20: iload_1
    //   21: ireturn
    //   22: astore_2
    //   23: aload_0
    //   24: monitorexit
    //   25: aload_2
    //   26: athrow
    // Exception table:
    //   from	to	target	type
    //   2	7	22	finally }
  
  public boolean isCxxModule() { return this.mReactModuleInfo.f(); }
  
  public boolean isTurboModule() { return this.mReactModuleInfo.g(); }
  
  void markInitializable() { // Byte code:
    //   0: aload_0
    //   1: monitorenter
    //   2: iconst_1
    //   3: istore_1
    //   4: aload_0
    //   5: iconst_1
    //   6: putfield mInitializable : Z
    //   9: aload_0
    //   10: getfield mModule : Lcom/facebook/react/bridge/NativeModule;
    //   13: astore_3
    //   14: iconst_0
    //   15: istore_2
    //   16: aload_3
    //   17: ifnull -> 58
    //   20: aload_0
    //   21: getfield mIsInitializing : Z
    //   24: ifne -> 29
    //   27: iconst_1
    //   28: istore_2
    //   29: iload_2
    //   30: invokestatic a : (Z)V
    //   33: aload_0
    //   34: getfield mModule : Lcom/facebook/react/bridge/NativeModule;
    //   37: astore_3
    //   38: goto -> 41
    //   41: aload_0
    //   42: monitorexit
    //   43: iload_1
    //   44: ifeq -> 52
    //   47: aload_0
    //   48: aload_3
    //   49: invokespecial doInitialize : (Lcom/facebook/react/bridge/NativeModule;)V
    //   52: return
    //   53: astore_3
    //   54: aload_0
    //   55: monitorexit
    //   56: aload_3
    //   57: athrow
    //   58: aconst_null
    //   59: astore_3
    //   60: iconst_0
    //   61: istore_1
    //   62: goto -> 41
    // Exception table:
    //   from	to	target	type
    //   4	14	53	finally
    //   20	27	53	finally
    //   29	38	53	finally
    //   41	43	53	finally
    //   54	56	53	finally }
}
