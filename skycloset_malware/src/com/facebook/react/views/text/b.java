package com.facebook.react.views.text;

import android.graphics.Paint;
import android.text.style.LineHeightSpan;

public class b implements LineHeightSpan, l {
  private final int a;
  
  b(float paramFloat) { this.a = (int)Math.ceil(paramFloat); }
  
  public void chooseHeight(CharSequence paramCharSequence, int paramInt1, int paramInt2, int paramInt3, int paramInt4, Paint.FontMetricsInt paramFontMetricsInt) {
    paramInt1 = paramFontMetricsInt.descent;
    paramInt2 = this.a;
    if (paramInt1 > paramInt2) {
      paramInt1 = Math.min(paramInt2, paramFontMetricsInt.descent);
      paramFontMetricsInt.descent = paramInt1;
      paramFontMetricsInt.bottom = paramInt1;
      paramInt1 = 0;
    } else if (-paramFontMetricsInt.ascent + paramFontMetricsInt.descent > this.a) {
      paramFontMetricsInt.bottom = paramFontMetricsInt.descent;
      paramInt1 = -this.a + paramFontMetricsInt.descent;
    } else {
      if (-paramFontMetricsInt.ascent + paramFontMetricsInt.bottom > this.a) {
        paramFontMetricsInt.top = paramFontMetricsInt.ascent;
        paramFontMetricsInt.bottom = paramFontMetricsInt.ascent + this.a;
        return;
      } 
      paramInt2 = -paramFontMetricsInt.top;
      paramInt3 = paramFontMetricsInt.bottom;
      paramInt1 = this.a;
      if (paramInt2 + paramInt3 > paramInt1) {
        paramInt1 = paramFontMetricsInt.bottom - this.a;
      } else {
        paramInt2 = -paramFontMetricsInt.top;
        paramInt3 = paramFontMetricsInt.bottom;
        double d1 = paramFontMetricsInt.top;
        double d2 = ((paramInt1 - paramInt2 + paramInt3) / 2.0F);
        paramFontMetricsInt.top = (int)(d1 - Math.ceil(d2));
        paramFontMetricsInt.bottom = (int)(paramFontMetricsInt.bottom + Math.floor(d2));
        paramFontMetricsInt.ascent = paramFontMetricsInt.top;
        paramFontMetricsInt.descent = paramFontMetricsInt.bottom;
        return;
      } 
      paramFontMetricsInt.top = paramInt1;
    } 
    paramFontMetricsInt.ascent = paramInt1;
    paramFontMetricsInt.top = paramInt1;
  }
}
