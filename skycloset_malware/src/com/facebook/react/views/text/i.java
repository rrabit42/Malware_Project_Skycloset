package com.facebook.react.views.text;

import android.content.res.AssetManager;
import android.graphics.Typeface;
import java.util.HashMap;
import java.util.Map;

public class i {
  private static final String[] a = { "", "_bold", "_italic", "_bold_italic" };
  
  private static final String[] b = { ".ttf", ".otf" };
  
  private static i c;
  
  private Map<String, a> d = new HashMap();
  
  public static i a() {
    if (c == null)
      c = new i(); 
    return c;
  }
  
  private static Typeface b(String paramString, int paramInt, AssetManager paramAssetManager) {
    String str = a[paramInt];
    String[] arrayOfString = b;
    int j = arrayOfString.length;
    byte b1 = 0;
    while (true) {
      if (b1 < j) {
        str1 = arrayOfString[b1];
        StringBuilder stringBuilder = new StringBuilder();
        stringBuilder.append("fonts/");
        stringBuilder.append(paramString);
        stringBuilder.append(str);
        stringBuilder.append(str1);
        str1 = stringBuilder.toString();
        try {
          return Typeface.createFromAsset(paramAssetManager, str1);
        } catch (RuntimeException str1) {
          b1++;
          continue;
        } 
      } 
      return Typeface.create(paramString, paramInt);
    } 
  }
  
  public Typeface a(String paramString, int paramInt, AssetManager paramAssetManager) {
    a a2 = (a)this.d.get(paramString);
    a a1 = a2;
    if (a2 == null) {
      a1 = new a(null);
      this.d.put(paramString, a1);
    } 
    Typeface typeface2 = a1.a(paramInt);
    Typeface typeface1 = typeface2;
    if (typeface2 == null) {
      Typeface typeface = b(paramString, paramInt, paramAssetManager);
      typeface1 = typeface;
      if (typeface != null) {
        a1.a(paramInt, typeface);
        typeface1 = typeface;
      } 
    } 
    return typeface1;
  }
}
