package com.facebook.react.views.text;

import android.text.Spannable;
import android.view.View;
import com.facebook.react.bridge.ReactContext;
import com.facebook.react.bridge.ReadableMap;
import com.facebook.react.bridge.ReadableNativeMap;
import com.facebook.react.common.e;
import com.facebook.react.module.a.a;
import com.facebook.react.uimanager.af;
import com.facebook.react.uimanager.w;
import com.facebook.react.uimanager.y;
import com.facebook.yoga.YogaMeasureMode;
import java.util.Map;

@a(a = "RCTText")
public class ReactTextViewManager extends ReactTextAnchorViewManager<r, p> {
  public static final String REACT_CLASS = "RCTText";
  
  public p createShadowNodeInstance() { return new p(); }
  
  public r createViewInstance(af paramaf) { return new r(paramaf); }
  
  public Map getExportedCustomDirectEventTypeConstants() { return e.a("topTextLayout", e.a("registrationName", "onTextLayout")); }
  
  public String getName() { return "RCTText"; }
  
  public Class<p> getShadowNodeClass() { return p.class; }
  
  public long measure(ReactContext paramReactContext, ReadableNativeMap paramReadableNativeMap1, ReadableNativeMap paramReadableNativeMap2, float paramFloat1, YogaMeasureMode paramYogaMeasureMode1, float paramFloat2, YogaMeasureMode paramYogaMeasureMode2) { return y.a(paramReactContext, paramReadableNativeMap1, paramReadableNativeMap2, paramFloat1, paramYogaMeasureMode1, paramFloat2, paramYogaMeasureMode2); }
  
  protected void onAfterUpdateTransaction(r paramr) {
    super.onAfterUpdateTransaction(paramr);
    paramr.a();
  }
  
  public void updateExtraData(r paramr, Object paramObject) {
    paramObject = (q)paramObject;
    if (paramObject.c())
      x.a(paramObject.a(), paramr); 
    paramr.setText(paramObject);
  }
  
  public Object updateLocalData(r paramr, y paramy1, y paramy2) {
    ReadableMap readableMap = paramy2.e("attributedString");
    Spannable spannable = y.a(paramr.getContext(), readableMap);
    paramr.setSpanned(spannable);
    v v = new v(paramy1);
    return new q(spannable, -1, false, v.d(), v.f(), v.e(), v.c(), v.b(), 1, 0);
  }
}
