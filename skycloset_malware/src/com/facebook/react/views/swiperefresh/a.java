package com.facebook.react.views.swiperefresh;

import android.support.v4.widget.o;
import android.view.MotionEvent;
import android.view.ViewConfiguration;
import com.facebook.react.bridge.ReactContext;
import com.facebook.react.uimanager.events.f;
import com.facebook.react.uimanager.o;

public class a extends o {
  private boolean n = false;
  
  private boolean o = false;
  
  private float p = 0.0F;
  
  private int q;
  
  private float r;
  
  private boolean s;
  
  public a(ReactContext paramReactContext) {
    super(paramReactContext);
    this.q = ViewConfiguration.get(paramReactContext).getScaledTouchSlop();
  }
  
  private boolean a(MotionEvent paramMotionEvent) {
    int i = paramMotionEvent.getAction();
    if (i != 0) {
      if (i != 2)
        return true; 
      float f = Math.abs(paramMotionEvent.getX() - this.r);
      if (this.s || f > this.q) {
        this.s = true;
        return false;
      } 
    } else {
      this.r = paramMotionEvent.getX();
      this.s = false;
    } 
    return true;
  }
  
  public boolean onInterceptTouchEvent(MotionEvent paramMotionEvent) {
    if (a(paramMotionEvent) && super.onInterceptTouchEvent(paramMotionEvent)) {
      f.a(this, paramMotionEvent);
      if (getParent() != null)
        getParent().requestDisallowInterceptTouchEvent(true); 
      return true;
    } 
    return false;
  }
  
  public void onLayout(boolean paramBoolean, int paramInt1, int paramInt2, int paramInt3, int paramInt4) {
    super.onLayout(paramBoolean, paramInt1, paramInt2, paramInt3, paramInt4);
    if (!this.n) {
      this.n = true;
      setProgressViewOffset(this.p);
      setRefreshing(this.o);
    } 
  }
  
  public void requestDisallowInterceptTouchEvent(boolean paramBoolean) {
    if (getParent() != null)
      getParent().requestDisallowInterceptTouchEvent(paramBoolean); 
  }
  
  public void setProgressViewOffset(float paramFloat) {
    this.p = paramFloat;
    if (this.n) {
      int i = getProgressCircleDiameter();
      a(false, Math.round(o.a(paramFloat)) - i, Math.round(o.a(paramFloat + 64.0F) - i));
    } 
  }
  
  public void setRefreshing(boolean paramBoolean) {
    this.o = paramBoolean;
    if (this.n)
      super.setRefreshing(paramBoolean); 
  }
}
