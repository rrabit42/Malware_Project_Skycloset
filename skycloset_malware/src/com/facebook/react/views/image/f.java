package com.facebook.react.views.image;

import android.content.Context;
import android.graphics.Matrix;
import android.graphics.Shader;
import android.graphics.drawable.Drawable;
import android.net.Uri;
import com.facebook.common.k.f;
import com.facebook.f.c.b;
import com.facebook.f.c.d;
import com.facebook.f.e.b;
import com.facebook.f.e.l;
import com.facebook.f.e.q;
import com.facebook.f.f.a;
import com.facebook.f.f.b;
import com.facebook.f.f.d;
import com.facebook.f.i.d;
import com.facebook.imagepipeline.m.a;
import com.facebook.react.bridge.ReactContext;
import com.facebook.react.bridge.ReadableArray;
import com.facebook.react.bridge.ReadableMap;
import com.facebook.react.uimanager.UIManagerModule;
import com.facebook.react.uimanager.d;
import com.facebook.react.uimanager.o;
import com.facebook.react.views.b.a;
import com.facebook.react.views.b.b;
import com.facebook.react.views.b.c;
import com.facebook.yoga.a;
import java.util.Arrays;
import java.util.LinkedList;
import java.util.List;

public class f extends d {
  private static float[] a = new float[4];
  
  private static final Matrix b = new Matrix();
  
  private static final Matrix c = new Matrix();
  
  private static final Matrix e = new Matrix();
  
  private a A;
  
  private final Object B;
  
  private int C = -1;
  
  private boolean D;
  
  private ReadableMap E;
  
  private c d = c.a;
  
  private final List<a> f;
  
  private a g;
  
  private a h;
  
  private Drawable i;
  
  private Drawable j;
  
  private l k;
  
  private int l = 0;
  
  private int m;
  
  private int n;
  
  private float o;
  
  private float p = NaNF;
  
  private float[] q;
  
  private q.b r = d.a();
  
  private Shader.TileMode s = d.b();
  
  private boolean t;
  
  private final b u;
  
  private final a v;
  
  private final b w;
  
  private a x;
  
  private d y;
  
  private d z;
  
  public f(Context paramContext, b paramb, a parama, Object paramObject) {
    super(paramContext, a(paramContext));
    this.u = paramb;
    this.v = new a(this, null);
    this.w = new b(this, null);
    this.A = parama;
    this.B = paramObject;
    this.f = new LinkedList();
  }
  
  private static a a(Context paramContext) { return (new b(paramContext.getResources())).a(d.b(0.0F)).r(); }
  
  private void a(String paramString) {}
  
  private void a(float[] paramArrayOfFloat) {
    float f1;
    if (!a.a(this.p)) {
      f1 = this.p;
    } else {
      f1 = 0.0F;
    } 
    float[] arrayOfFloat = this.q;
    if (arrayOfFloat != null && !a.a(arrayOfFloat[0])) {
      f2 = this.q[0];
    } else {
      f2 = f1;
    } 
    paramArrayOfFloat[0] = f2;
    arrayOfFloat = this.q;
    if (arrayOfFloat != null && !a.a(arrayOfFloat[1])) {
      f2 = this.q[1];
    } else {
      f2 = f1;
    } 
    paramArrayOfFloat[1] = f2;
    arrayOfFloat = this.q;
    if (arrayOfFloat != null && !a.a(arrayOfFloat[2])) {
      f2 = this.q[2];
    } else {
      f2 = f1;
    } 
    paramArrayOfFloat[2] = f2;
    arrayOfFloat = this.q;
    float f2 = f1;
    if (arrayOfFloat != null) {
      f2 = f1;
      if (!a.a(arrayOfFloat[3]))
        f2 = this.q[3]; 
    } 
    paramArrayOfFloat[3] = f2;
  }
  
  private boolean a(a parama) {
    c c1 = this.d;
    c c2 = c.a;
    boolean bool = true;
    if (c1 == c2) {
      if (!f.d(parama.b())) {
        if (f.c(parama.b()))
          return true; 
        bool = false;
      } 
      return bool;
    } 
    return (this.d == c.b);
  }
  
  private boolean j() { return (this.f.size() > 1); }
  
  private boolean k() { return (this.s != Shader.TileMode.CLAMP); }
  
  private void l() {
    this.g = null;
    if (this.f.isEmpty()) {
      a a1 = new a(getContext(), "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=");
      this.f.add(a1);
    } else if (j()) {
      b.a a1 = b.a(getWidth(), getHeight(), this.f);
      this.g = a1.a();
      this.h = a1.b();
      return;
    } 
    this.g = (a)this.f.get(0);
  }
  
  public void a(float paramFloat, int paramInt) {
    if (this.q == null) {
      this.q = new float[4];
      Arrays.fill(this.q, NaNF);
    } 
    if (!d.a(this.q[paramInt], paramFloat)) {
      this.q[paramInt] = paramFloat;
      this.t = true;
    } 
  }
  
  public void e() { // Byte code:
    //   0: aload_0
    //   1: getfield t : Z
    //   4: ifne -> 8
    //   7: return
    //   8: aload_0
    //   9: invokespecial j : ()Z
    //   12: ifeq -> 30
    //   15: aload_0
    //   16: invokevirtual getWidth : ()I
    //   19: ifle -> 29
    //   22: aload_0
    //   23: invokevirtual getHeight : ()I
    //   26: ifgt -> 30
    //   29: return
    //   30: aload_0
    //   31: invokespecial l : ()V
    //   34: aload_0
    //   35: getfield g : Lcom/facebook/react/views/b/a;
    //   38: astore #4
    //   40: aload #4
    //   42: ifnonnull -> 46
    //   45: return
    //   46: aload_0
    //   47: aload #4
    //   49: invokespecial a : (Lcom/facebook/react/views/b/a;)Z
    //   52: istore_3
    //   53: iload_3
    //   54: ifeq -> 72
    //   57: aload_0
    //   58: invokevirtual getWidth : ()I
    //   61: ifle -> 71
    //   64: aload_0
    //   65: invokevirtual getHeight : ()I
    //   68: ifgt -> 72
    //   71: return
    //   72: aload_0
    //   73: invokespecial k : ()Z
    //   76: ifeq -> 94
    //   79: aload_0
    //   80: invokevirtual getWidth : ()I
    //   83: ifle -> 93
    //   86: aload_0
    //   87: invokevirtual getHeight : ()I
    //   90: ifgt -> 94
    //   93: return
    //   94: aload_0
    //   95: invokevirtual getHierarchy : ()Lcom/facebook/f/h/b;
    //   98: checkcast com/facebook/f/f/a
    //   101: astore #4
    //   103: aload #4
    //   105: aload_0
    //   106: getfield r : Lcom/facebook/f/e/q$b;
    //   109: invokevirtual a : (Lcom/facebook/f/e/q$b;)V
    //   112: aload_0
    //   113: getfield i : Landroid/graphics/drawable/Drawable;
    //   116: astore #5
    //   118: aload #5
    //   120: ifnull -> 134
    //   123: aload #4
    //   125: aload #5
    //   127: aload_0
    //   128: getfield r : Lcom/facebook/f/e/q$b;
    //   131: invokevirtual a : (Landroid/graphics/drawable/Drawable;Lcom/facebook/f/e/q$b;)V
    //   134: aload_0
    //   135: getfield j : Landroid/graphics/drawable/Drawable;
    //   138: astore #5
    //   140: aload #5
    //   142: ifnull -> 155
    //   145: aload #4
    //   147: aload #5
    //   149: getstatic com/facebook/f/e/q$b.e : Lcom/facebook/f/e/q$b;
    //   152: invokevirtual a : (Landroid/graphics/drawable/Drawable;Lcom/facebook/f/e/q$b;)V
    //   155: aload_0
    //   156: getfield r : Lcom/facebook/f/e/q$b;
    //   159: getstatic com/facebook/f/e/q$b.g : Lcom/facebook/f/e/q$b;
    //   162: if_acmpeq -> 180
    //   165: aload_0
    //   166: getfield r : Lcom/facebook/f/e/q$b;
    //   169: getstatic com/facebook/f/e/q$b.h : Lcom/facebook/f/e/q$b;
    //   172: if_acmpeq -> 180
    //   175: iconst_1
    //   176: istore_2
    //   177: goto -> 182
    //   180: iconst_0
    //   181: istore_2
    //   182: aload #4
    //   184: invokevirtual c : ()Lcom/facebook/f/f/d;
    //   187: astore #5
    //   189: aload_0
    //   190: getstatic com/facebook/react/views/image/f.a : [F
    //   193: invokespecial a : ([F)V
    //   196: getstatic com/facebook/react/views/image/f.a : [F
    //   199: astore #6
    //   201: aload #5
    //   203: aload #6
    //   205: iconst_0
    //   206: faload
    //   207: aload #6
    //   209: iconst_1
    //   210: faload
    //   211: aload #6
    //   213: iconst_2
    //   214: faload
    //   215: aload #6
    //   217: iconst_3
    //   218: faload
    //   219: invokevirtual a : (FFFF)Lcom/facebook/f/f/d;
    //   222: pop
    //   223: aload_0
    //   224: getfield k : Lcom/facebook/f/e/l;
    //   227: astore #6
    //   229: aload #6
    //   231: ifnull -> 268
    //   234: aload #6
    //   236: aload_0
    //   237: getfield m : I
    //   240: aload_0
    //   241: getfield o : F
    //   244: invokevirtual a : (IF)V
    //   247: aload_0
    //   248: getfield k : Lcom/facebook/f/e/l;
    //   251: aload #5
    //   253: invokevirtual b : ()[F
    //   256: invokevirtual a : ([F)V
    //   259: aload #4
    //   261: aload_0
    //   262: getfield k : Lcom/facebook/f/e/l;
    //   265: invokevirtual b : (Landroid/graphics/drawable/Drawable;)V
    //   268: iload_2
    //   269: ifeq -> 279
    //   272: aload #5
    //   274: fconst_0
    //   275: invokevirtual a : (F)Lcom/facebook/f/f/d;
    //   278: pop
    //   279: aload #5
    //   281: aload_0
    //   282: getfield m : I
    //   285: aload_0
    //   286: getfield o : F
    //   289: invokevirtual a : (IF)Lcom/facebook/f/f/d;
    //   292: pop
    //   293: aload_0
    //   294: getfield n : I
    //   297: istore_1
    //   298: iload_1
    //   299: ifeq -> 312
    //   302: aload #5
    //   304: iload_1
    //   305: invokevirtual a : (I)Lcom/facebook/f/f/d;
    //   308: pop
    //   309: goto -> 321
    //   312: aload #5
    //   314: getstatic com/facebook/f/f/d$a.b : Lcom/facebook/f/f/d$a;
    //   317: invokevirtual a : (Lcom/facebook/f/f/d$a;)Lcom/facebook/f/f/d;
    //   320: pop
    //   321: aload #4
    //   323: aload #5
    //   325: invokevirtual a : (Lcom/facebook/f/f/d;)V
    //   328: aload_0
    //   329: getfield C : I
    //   332: istore_1
    //   333: iload_1
    //   334: iflt -> 340
    //   337: goto -> 359
    //   340: aload_0
    //   341: getfield g : Lcom/facebook/react/views/b/a;
    //   344: invokevirtual d : ()Z
    //   347: ifeq -> 355
    //   350: iconst_0
    //   351: istore_1
    //   352: goto -> 359
    //   355: sipush #300
    //   358: istore_1
    //   359: aload #4
    //   361: iload_1
    //   362: invokevirtual a : (I)V
    //   365: new java/util/LinkedList
    //   368: dup
    //   369: invokespecial <init> : ()V
    //   372: astore #4
    //   374: iload_2
    //   375: ifeq -> 390
    //   378: aload #4
    //   380: aload_0
    //   381: getfield v : Lcom/facebook/react/views/image/f$a;
    //   384: invokeinterface add : (Ljava/lang/Object;)Z
    //   389: pop
    //   390: aload_0
    //   391: getfield x : Lcom/facebook/imagepipeline/m/a;
    //   394: astore #5
    //   396: aload #5
    //   398: ifnull -> 411
    //   401: aload #4
    //   403: aload #5
    //   405: invokeinterface add : (Ljava/lang/Object;)Z
    //   410: pop
    //   411: aload_0
    //   412: invokespecial k : ()Z
    //   415: ifeq -> 430
    //   418: aload #4
    //   420: aload_0
    //   421: getfield w : Lcom/facebook/react/views/image/f$b;
    //   424: invokeinterface add : (Ljava/lang/Object;)Z
    //   429: pop
    //   430: aload #4
    //   432: invokestatic a : (Ljava/util/List;)Lcom/facebook/imagepipeline/o/d;
    //   435: astore #5
    //   437: iload_3
    //   438: ifeq -> 461
    //   441: new com/facebook/imagepipeline/e/e
    //   444: dup
    //   445: aload_0
    //   446: invokevirtual getWidth : ()I
    //   449: aload_0
    //   450: invokevirtual getHeight : ()I
    //   453: invokespecial <init> : (II)V
    //   456: astore #4
    //   458: goto -> 464
    //   461: aconst_null
    //   462: astore #4
    //   464: aload_0
    //   465: getfield g : Lcom/facebook/react/views/b/a;
    //   468: invokevirtual b : ()Landroid/net/Uri;
    //   471: invokestatic a : (Landroid/net/Uri;)Lcom/facebook/imagepipeline/o/c;
    //   474: aload #5
    //   476: invokevirtual a : (Lcom/facebook/imagepipeline/o/d;)Lcom/facebook/imagepipeline/o/c;
    //   479: aload #4
    //   481: invokevirtual a : (Lcom/facebook/imagepipeline/e/e;)Lcom/facebook/imagepipeline/o/c;
    //   484: iconst_1
    //   485: invokevirtual a : (Z)Lcom/facebook/imagepipeline/o/c;
    //   488: aload_0
    //   489: getfield D : Z
    //   492: invokevirtual b : (Z)Lcom/facebook/imagepipeline/o/c;
    //   495: aload_0
    //   496: getfield E : Lcom/facebook/react/bridge/ReadableMap;
    //   499: invokestatic a : (Lcom/facebook/imagepipeline/o/c;Lcom/facebook/react/bridge/ReadableMap;)Lcom/facebook/react/modules/fresco/a;
    //   502: astore #6
    //   504: aload_0
    //   505: getfield A : Lcom/facebook/react/views/image/a;
    //   508: astore #7
    //   510: aload #7
    //   512: ifnull -> 529
    //   515: aload #7
    //   517: aload_0
    //   518: getfield g : Lcom/facebook/react/views/b/a;
    //   521: invokevirtual b : ()Landroid/net/Uri;
    //   524: invokeinterface a : (Landroid/net/Uri;)V
    //   529: aload_0
    //   530: getfield u : Lcom/facebook/f/c/b;
    //   533: invokevirtual c : ()Lcom/facebook/f/c/b;
    //   536: pop
    //   537: aload_0
    //   538: getfield u : Lcom/facebook/f/c/b;
    //   541: iconst_1
    //   542: invokevirtual a : (Z)Lcom/facebook/f/c/b;
    //   545: aload_0
    //   546: getfield B : Ljava/lang/Object;
    //   549: invokevirtual a : (Ljava/lang/Object;)Lcom/facebook/f/c/b;
    //   552: aload_0
    //   553: invokevirtual getController : ()Lcom/facebook/f/h/a;
    //   556: invokevirtual b : (Lcom/facebook/f/h/a;)Lcom/facebook/f/c/b;
    //   559: aload #6
    //   561: invokevirtual b : (Ljava/lang/Object;)Lcom/facebook/f/c/b;
    //   564: pop
    //   565: aload_0
    //   566: getfield h : Lcom/facebook/react/views/b/a;
    //   569: astore #6
    //   571: aload #6
    //   573: ifnull -> 620
    //   576: aload #6
    //   578: invokevirtual b : ()Landroid/net/Uri;
    //   581: invokestatic a : (Landroid/net/Uri;)Lcom/facebook/imagepipeline/o/c;
    //   584: aload #5
    //   586: invokevirtual a : (Lcom/facebook/imagepipeline/o/d;)Lcom/facebook/imagepipeline/o/c;
    //   589: aload #4
    //   591: invokevirtual a : (Lcom/facebook/imagepipeline/e/e;)Lcom/facebook/imagepipeline/o/c;
    //   594: iconst_1
    //   595: invokevirtual a : (Z)Lcom/facebook/imagepipeline/o/c;
    //   598: aload_0
    //   599: getfield D : Z
    //   602: invokevirtual b : (Z)Lcom/facebook/imagepipeline/o/c;
    //   605: invokevirtual o : ()Lcom/facebook/imagepipeline/o/b;
    //   608: astore #4
    //   610: aload_0
    //   611: getfield u : Lcom/facebook/f/c/b;
    //   614: aload #4
    //   616: invokevirtual c : (Ljava/lang/Object;)Lcom/facebook/f/c/b;
    //   619: pop
    //   620: aload_0
    //   621: getfield y : Lcom/facebook/f/c/d;
    //   624: ifnull -> 664
    //   627: aload_0
    //   628: getfield z : Lcom/facebook/f/c/d;
    //   631: ifnull -> 664
    //   634: new com/facebook/f/c/f
    //   637: dup
    //   638: invokespecial <init> : ()V
    //   641: astore #4
    //   643: aload #4
    //   645: aload_0
    //   646: getfield y : Lcom/facebook/f/c/d;
    //   649: invokevirtual a : (Lcom/facebook/f/c/d;)V
    //   652: aload #4
    //   654: aload_0
    //   655: getfield z : Lcom/facebook/f/c/d;
    //   658: invokevirtual a : (Lcom/facebook/f/c/d;)V
    //   661: goto -> 675
    //   664: aload_0
    //   665: getfield z : Lcom/facebook/f/c/d;
    //   668: astore #4
    //   670: aload #4
    //   672: ifnull -> 688
    //   675: aload_0
    //   676: getfield u : Lcom/facebook/f/c/b;
    //   679: aload #4
    //   681: invokevirtual a : (Lcom/facebook/f/c/d;)Lcom/facebook/f/c/b;
    //   684: pop
    //   685: goto -> 702
    //   688: aload_0
    //   689: getfield y : Lcom/facebook/f/c/d;
    //   692: astore #4
    //   694: aload #4
    //   696: ifnull -> 702
    //   699: goto -> 675
    //   702: aload_0
    //   703: aload_0
    //   704: getfield u : Lcom/facebook/f/c/b;
    //   707: invokevirtual j : ()Lcom/facebook/f/c/a;
    //   710: invokevirtual setController : (Lcom/facebook/f/h/a;)V
    //   713: aload_0
    //   714: iconst_0
    //   715: putfield t : Z
    //   718: aload_0
    //   719: getfield u : Lcom/facebook/f/c/b;
    //   722: invokevirtual c : ()Lcom/facebook/f/c/b;
    //   725: pop
    //   726: return }
  
  public boolean hasOverlappingRendering() { return false; }
  
  protected void onSizeChanged(int paramInt1, int paramInt2, int paramInt3, int paramInt4) {
    super.onSizeChanged(paramInt1, paramInt2, paramInt3, paramInt4);
    if (paramInt1 > 0 && paramInt2 > 0) {
      boolean bool;
      if (this.t || j() || k()) {
        bool = true;
      } else {
        bool = false;
      } 
      this.t = bool;
      e();
    } 
  }
  
  public void setBackgroundColor(int paramInt) {
    if (this.l != paramInt) {
      this.l = paramInt;
      this.k = new l(paramInt);
      this.t = true;
    } 
  }
  
  public void setBlurRadius(float paramFloat) {
    int i1 = (int)o.a(paramFloat);
    if (i1 == 0) {
      this.x = null;
    } else {
      this.x = new a(i1);
    } 
    this.t = true;
  }
  
  public void setBorderColor(int paramInt) {
    this.m = paramInt;
    this.t = true;
  }
  
  public void setBorderRadius(float paramFloat) {
    if (!d.a(this.p, paramFloat)) {
      this.p = paramFloat;
      this.t = true;
    } 
  }
  
  public void setBorderWidth(float paramFloat) {
    this.o = o.a(paramFloat);
    this.t = true;
  }
  
  public void setControllerListener(d paramd) {
    this.z = paramd;
    this.t = true;
    e();
  }
  
  public void setDefaultSource(String paramString) {
    this.i = c.a().b(getContext(), paramString);
    this.t = true;
  }
  
  public void setFadeDuration(int paramInt) { this.C = paramInt; }
  
  public void setHeaders(ReadableMap paramReadableMap) { this.E = paramReadableMap; }
  
  public void setLoadingIndicatorSource(String paramString) {
    Drawable drawable = c.a().b(getContext(), paramString);
    if (drawable != null) {
      b b1 = new b(drawable, 1000);
    } else {
      drawable = null;
    } 
    this.j = drawable;
    this.t = true;
  }
  
  public void setOverlayColor(int paramInt) {
    this.n = paramInt;
    this.t = true;
  }
  
  public void setProgressiveRenderingEnabled(boolean paramBoolean) { this.D = paramBoolean; }
  
  public void setResizeMethod(c paramc) {
    this.d = paramc;
    this.t = true;
  }
  
  public void setScaleType(q.b paramb) {
    this.r = paramb;
    this.t = true;
  }
  
  public void setShouldNotifyLoadEvents(boolean paramBoolean) {
    if (!paramBoolean) {
      this.y = null;
    } else {
      this.y = new Object(this, ((UIManagerModule)((ReactContext)getContext()).getNativeModule(UIManagerModule.class)).getEventDispatcher());
    } 
    this.t = true;
  }
  
  public void setSource(ReadableArray paramReadableArray) {
    a a1;
    this.f.clear();
    if (paramReadableArray == null || paramReadableArray.size() == 0) {
      a1 = new a(getContext(), "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=");
      this.f.add(a1);
    } else {
      String str;
      int i1 = a1.size();
      byte b1 = 0;
      if (i1 == 1) {
        str = a1.getMap(0).getString("uri");
        a a2 = new a(getContext(), str);
        this.f.add(a2);
        if (Uri.EMPTY.equals(a2.b()))
          a(str); 
      } else {
        while (b1 < str.size()) {
          ReadableMap readableMap = str.getMap(b1);
          String str1 = readableMap.getString("uri");
          a a2 = new a(getContext(), str1, readableMap.getDouble("width"), readableMap.getDouble("height"));
          this.f.add(a2);
          if (Uri.EMPTY.equals(a2.b()))
            a(str1); 
          b1++;
        } 
      } 
    } 
    this.t = true;
  }
  
  public void setTileMode(Shader.TileMode paramTileMode) {
    this.s = paramTileMode;
    this.t = true;
  }
}
