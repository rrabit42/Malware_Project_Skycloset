package com.facebook.react.views.progressbar;

import android.util.SparseIntArray;
import android.view.View;
import android.widget.ProgressBar;
import com.facebook.react.uimanager.a.a;
import com.facebook.react.uimanager.h;
import com.facebook.yoga.YogaMeasureFunction;
import com.facebook.yoga.YogaMeasureMode;
import com.facebook.yoga.YogaNode;
import com.facebook.yoga.b;
import java.util.HashSet;
import java.util.Set;

public class b extends h implements YogaMeasureFunction {
  private String a = "Normal";
  
  private final SparseIntArray b = new SparseIntArray();
  
  private final SparseIntArray c = new SparseIntArray();
  
  private final Set<Integer> d = new HashSet();
  
  public b() { R(); }
  
  private void R() { a(this); }
  
  public String Q() { return this.a; }
  
  public long measure(YogaNode paramYogaNode, float paramFloat1, YogaMeasureMode paramYogaMeasureMode1, float paramFloat2, YogaMeasureMode paramYogaMeasureMode2) {
    int i = ReactProgressBarViewManager.getStyleFromString(Q());
    if (!this.d.contains(Integer.valueOf(i))) {
      ProgressBar progressBar = ReactProgressBarViewManager.createProgressBar(m(), i);
      int j = View.MeasureSpec.makeMeasureSpec(-2, 0);
      progressBar.measure(j, j);
      this.b.put(i, progressBar.getMeasuredHeight());
      this.c.put(i, progressBar.getMeasuredWidth());
      this.d.add(Integer.valueOf(i));
    } 
    return b.a(this.c.get(i), this.b.get(i));
  }
  
  @a(a = "styleAttr")
  public void setStyle(String paramString) {
    String str = paramString;
    if (paramString == null)
      str = "Normal"; 
    this.a = str;
  }
}
