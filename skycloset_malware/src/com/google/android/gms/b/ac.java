package com.google.android.gms.b;

import android.content.ContentProviderClient;
import android.content.Context;
import android.location.Location;
import android.os.IBinder;
import android.os.RemoteException;
import com.google.android.gms.common.api.internal.u;
import com.google.android.gms.common.api.internal.w;
import com.google.android.gms.common.internal.af;
import com.google.android.gms.location.d;
import com.google.android.gms.location.e;
import java.util.HashMap;
import java.util.Map;

public final class ac {
  private final ao<y> a;
  
  private final Context b;
  
  private ContentProviderClient c = null;
  
  private boolean d = false;
  
  private final Map<w<e>, ag> e = new HashMap();
  
  private final Map<w<d>, ad> f = new HashMap();
  
  public ac(Context paramContext, ao<y> paramao) {
    this.b = paramContext;
    this.a = paramao;
  }
  
  private final ad a(u<d> paramu) {
    synchronized (this.f) {
      ad ad2 = (ad)this.f.get(paramu.b());
      ad ad1 = ad2;
      if (ad2 == null)
        ad1 = new ad(paramu); 
      this.f.put(paramu.b(), ad1);
      return ad1;
    } 
  }
  
  public final Location a() {
    this.a.a();
    try {
      return ((y)this.a.b()).a(this.b.getPackageName());
    } catch (RemoteException remoteException) {
      throw new IllegalStateException(remoteException);
    } 
  }
  
  public final void a(ak paramak, u<d> paramu, v paramv) {
    this.a.a();
    ad ad = a(paramu);
    y y = (y)this.a.b();
    IBinder iBinder = ad.asBinder();
    if (paramv != null) {
      IBinder iBinder1 = paramv.asBinder();
    } else {
      ad = null;
    } 
    y.a(new am(1, paramak, null, null, iBinder, ad));
  }
  
  public final void a(w<d> paramw, v paramv) {
    this.a.a();
    af.a(paramw, "Invalid null listener key");
    synchronized (this.f) {
      ad ad = (ad)this.f.remove(paramw);
      if (ad != null) {
        ad.a();
        ((y)this.a.b()).a(am.a(ad, paramv));
      } 
      return;
    } 
  }
  
  public final void a(boolean paramBoolean) {
    this.a.a();
    ((y)this.a.b()).a(paramBoolean);
    this.d = paramBoolean;
  }
  
  public final void b() {
    try {
      synchronized (this.e) {
        for (ag ag : this.e.values()) {
          if (ag != null)
            ((y)this.a.b()).a(am.a(ag, null)); 
        } 
        this.e.clear();
        synchronized (this.f) {
          for (ad ad : this.f.values()) {
            if (ad != null)
              ((y)this.a.b()).a(am.a(ad, null)); 
          } 
          this.f.clear();
          return;
        } 
      } 
    } catch (RemoteException remoteException) {
      throw new IllegalStateException(remoteException);
    } 
  }
  
  public final void c() {
    if (this.d)
      try {
        a(false);
        return;
      } catch (RemoteException remoteException) {
        throw new IllegalStateException(remoteException);
      }  
  }
}
