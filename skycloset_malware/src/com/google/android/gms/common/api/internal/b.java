package com.google.android.gms.common.api.internal;

import com.google.android.gms.c.e;
import com.google.android.gms.common.api.Status;
import com.google.android.gms.common.api.b;
import com.google.android.gms.common.api.k;
import java.util.Collections;
import java.util.HashMap;
import java.util.Map;
import java.util.WeakHashMap;

public final class b {
  private final Map<bf<?>, Boolean> a = Collections.synchronizedMap(new WeakHashMap());
  
  private final Map<e<?>, Boolean> b = Collections.synchronizedMap(new WeakHashMap());
  
  private final void a(boolean paramBoolean, Status paramStatus) {
    synchronized (this.a) {
      HashMap hashMap = new HashMap(this.a);
      synchronized (this.b) {
        null = new HashMap(this.b);
        for (Map.Entry null : hashMap.entrySet()) {
          if (paramBoolean || ((Boolean)null.getValue()).booleanValue())
            ((bf)null.getKey()).b(paramStatus); 
        } 
        for (Map.Entry entry : null.entrySet()) {
          if (paramBoolean || ((Boolean)entry.getValue()).booleanValue())
            ((e)entry.getKey()).b(new b(paramStatus)); 
        } 
        return;
      } 
    } 
  }
  
  final <TResult> void a(e<TResult> parame, boolean paramBoolean) {
    this.b.put(parame, Boolean.valueOf(paramBoolean));
    parame.a().a(new d(this, parame));
  }
  
  final void a(bf<? extends k> parambf, boolean paramBoolean) {
    this.a.put(parambf, Boolean.valueOf(paramBoolean));
    parambf.a(new c(this, parambf));
  }
  
  final boolean a() { return (!this.a.isEmpty() || !this.b.isEmpty()); }
  
  public final void b() { a(false, h.a); }
  
  public final void c() { a(true, ap.a); }
}
