package com.google.android.gms.common.api.internal;

import android.content.DialogInterface;
import android.os.Handler;
import com.google.android.gms.common.a;
import com.google.android.gms.common.c;
import java.util.concurrent.atomic.AtomicReference;

public abstract class bb extends LifecycleCallback implements DialogInterface.OnCancelListener {
  protected final AtomicReference<bc> c;
  
  protected final c d;
  
  private final Handler e;
  
  private static int a(bc parambc) { return (parambc == null) ? -1 : parambc.a(); }
  
  protected abstract void a(a parama, int paramInt);
  
  protected abstract void b();
  
  public final void b(a parama, int paramInt) {
    bc bc = new bc(parama, paramInt);
    if (this.c.compareAndSet(null, bc))
      this.e.post(new bd(this, bc)); 
  }
  
  protected final void c() {
    this.c.set(null);
    b();
  }
  
  public void onCancel(DialogInterface paramDialogInterface) {
    a(new a(13, null), a((bc)this.c.get()));
    c();
  }
}
