package com.google.android.gms.common.api.internal;

import android.content.Context;
import android.os.Bundle;
import android.os.Handler;
import android.os.Looper;
import android.util.Log;
import com.google.android.gms.b.as;
import com.google.android.gms.b.av;
import com.google.android.gms.b.aw;
import com.google.android.gms.b.ba;
import com.google.android.gms.b.bi;
import com.google.android.gms.common.a;
import com.google.android.gms.common.api.Scope;
import com.google.android.gms.common.api.a;
import com.google.android.gms.common.api.f;
import com.google.android.gms.common.internal.af;
import com.google.android.gms.common.internal.ax;
import java.util.Set;

public final class ae extends ba implements f.a, f.b {
  private static a.b<? extends av, aw> a = as.a;
  
  private final Context b;
  
  private final Handler c;
  
  private final a.b<? extends av, aw> d;
  
  private Set<Scope> e;
  
  private ax f;
  
  private av g;
  
  private ag h;
  
  public ae(Context paramContext, Handler paramHandler, ax paramax) { this(paramContext, paramHandler, paramax, a); }
  
  public ae(Context paramContext, Handler paramHandler, ax paramax, a.b<? extends av, aw> paramb) {
    this.b = paramContext;
    this.c = paramHandler;
    this.f = (ax)af.a(paramax, "ClientSettings must not be null");
    this.e = paramax.c();
    this.d = paramb;
  }
  
  private final void b(bi parambi) {
    a a2 = parambi.a();
    a a1 = a2;
    if (a2.b()) {
      String str = parambi.b();
      a1 = str.b();
      if (!a1.b()) {
        StringBuilder stringBuilder = new StringBuilder((str = String.valueOf(a1)).valueOf(str).length() + 48);
        stringBuilder.append("Sign-in succeeded with resolve account failure: ");
        stringBuilder.append(str);
        Log.wtf("SignInCoordinator", stringBuilder.toString(), new Exception());
      } else {
        this.h.a(str.a(), this.e);
        this.g.a();
      } 
    } 
    this.h.b(a1);
    this.g.a();
  }
  
  public final void a() {
    av av1 = this.g;
    if (av1 != null)
      av1.a(); 
  }
  
  public final void a(int paramInt) { this.g.a(); }
  
  public final void a(Bundle paramBundle) { this.g.a(this); }
  
  public final void a(bi parambi) { this.c.post(new af(this, parambi)); }
  
  public final void a(a parama) { this.h.b(parama); }
  
  public final void a(ag paramag) {
    av av1 = this.g;
    if (av1 != null)
      av1.a(); 
    this.f.a(Integer.valueOf(System.identityHashCode(this)));
    a.b b1 = this.d;
    Context context = this.b;
    Looper looper = this.c.getLooper();
    ax ax1 = this.f;
    this.g = (av)b1.a(context, looper, ax1, ax1.g(), this, this);
    this.h = paramag;
    this.g.f();
  }
}
