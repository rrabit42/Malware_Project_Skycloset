package com.google.android.gms.common.api;

import android.accounts.Account;
import android.content.Context;
import android.os.Handler;
import android.os.Looper;
import com.google.android.gms.auth.api.signin.GoogleSignInAccount;
import com.google.android.gms.c.d;
import com.google.android.gms.c.e;
import com.google.android.gms.common.api.internal.ae;
import com.google.android.gms.common.api.internal.ah;
import com.google.android.gms.common.api.internal.aj;
import com.google.android.gms.common.api.internal.av;
import com.google.android.gms.common.api.internal.h;
import com.google.android.gms.common.api.internal.j;
import com.google.android.gms.common.api.internal.o;
import com.google.android.gms.common.internal.af;
import com.google.android.gms.common.internal.ax;
import com.google.android.gms.common.internal.ay;
import java.util.Collections;
import java.util.Set;

public class e<O extends a.a> extends Object {
  protected final h a;
  
  private final Context b;
  
  private final a<O> c;
  
  private final O d;
  
  private final av<O> e;
  
  private final Looper f;
  
  private final int g;
  
  private final f h;
  
  private final ah i;
  
  public e(Context paramContext, a<O> parama, O paramO, a parama1) {
    af.a(paramContext, "Null context is not permitted.");
    af.a(parama, "Api must not be null.");
    af.a(parama1, "Settings must not be null; use Settings.DEFAULT_SETTINGS instead.");
    this.b = paramContext.getApplicationContext();
    this.c = parama;
    this.d = paramO;
    this.f = parama1.c;
    this.e = av.a(this.c, this.d);
    this.h = new o(this);
    this.a = h.a(this.b);
    this.g = this.a.a();
    this.i = parama1.b;
    this.a.a(this);
  }
  
  @Deprecated
  public e(Context paramContext, a<O> parama, O paramO, ah paramah) { this(paramContext, parama, paramO, (new q()).a(paramah).a()); }
  
  private final <TResult, A extends a.c> d<TResult> a(int paramInt, aj<A, TResult> paramaj) {
    e e1 = new e();
    this.a.a(this, paramInt, paramaj, e1, this.i);
    return e1.a();
  }
  
  private final <A extends a.c, T extends com.google.android.gms.common.api.internal.az<? extends k, A>> T a(int paramInt, T paramT) {
    paramT.c();
    this.a.a(this, paramInt, paramT);
    return paramT;
  }
  
  private final ay e() {
    ay ay = new ay();
    Account account = this.d;
    if (account instanceof a.a.b) {
      account = ((a.a.b)account).a().d();
    } else if (account instanceof a.a.a) {
      account = ((a.a.a)account).a();
    } else {
      account = null;
    } 
    ay = ay.a(account);
    a.a a1 = this.d;
    if (a1 instanceof a.a.b) {
      GoogleSignInAccount googleSignInAccount = ((a.a.b)a1).a();
      if (googleSignInAccount != null) {
        Set set1 = googleSignInAccount.j();
        return ay.a(set1);
      } 
    } 
    Set set = Collections.emptySet();
    return ay.a(set);
  }
  
  public final <TResult, A extends a.c> d<TResult> a(aj<A, TResult> paramaj) { return a(0, paramaj); }
  
  public a.f a(Looper paramLooper, j<O> paramj) {
    ax ax = e().a(this.b.getPackageName()).b(this.b.getClass().getName()).a();
    return this.c.a().a(this.b, paramLooper, ax, this.d, paramj, paramj);
  }
  
  public ae a(Context paramContext, Handler paramHandler) { return new ae(paramContext, paramHandler, e().a()); }
  
  public final av<O> a() { return this.e; }
  
  public final <A extends a.c, T extends com.google.android.gms.common.api.internal.az<? extends k, A>> T a(T paramT) { return (T)a(0, paramT); }
  
  public final int b() { return this.g; }
  
  public final f c() { return this.h; }
  
  public final Looper d() { return this.f; }
}
