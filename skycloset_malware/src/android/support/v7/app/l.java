package android.support.v7.app;

import android.app.Activity;
import android.app.Dialog;
import android.content.Context;
import android.content.res.Configuration;
import android.content.res.TypedArray;
import android.support.v4.f.r;
import android.support.v4.f.w;
import android.support.v4.f.x;
import android.support.v4.f.z;
import android.support.v7.a.a;
import android.support.v7.view.a;
import android.support.v7.view.b;
import android.support.v7.view.h;
import android.support.v7.widget.ActionBarContainer;
import android.support.v7.widget.ActionBarContextView;
import android.support.v7.widget.ActionBarOverlayLayout;
import android.support.v7.widget.Toolbar;
import android.support.v7.widget.ac;
import android.support.v7.widget.an;
import android.util.TypedValue;
import android.view.ContextThemeWrapper;
import android.view.KeyCharacterMap;
import android.view.KeyEvent;
import android.view.Menu;
import android.view.View;
import android.view.animation.AccelerateInterpolator;
import android.view.animation.DecelerateInterpolator;
import android.view.animation.Interpolator;
import java.util.ArrayList;

public class l extends a implements ActionBarOverlayLayout.a {
  private static final Interpolator t = new AccelerateInterpolator();
  
  private static final Interpolator u = new DecelerateInterpolator();
  
  private boolean A;
  
  private boolean B;
  
  private ArrayList<a.b> C = new ArrayList();
  
  private boolean D;
  
  private int E = 0;
  
  private boolean F;
  
  private boolean G = true;
  
  private boolean H;
  
  Context a;
  
  ActionBarOverlayLayout b;
  
  ActionBarContainer c;
  
  ac d;
  
  ActionBarContextView e;
  
  View f;
  
  an g;
  
  a h;
  
  b i;
  
  b.a j;
  
  boolean k = true;
  
  boolean l;
  
  boolean m;
  
  h n;
  
  boolean o;
  
  final x p = new Object(this);
  
  final x q = new Object(this);
  
  final z r = new Object(this);
  
  private Context v;
  
  private Activity w;
  
  private Dialog x;
  
  private ArrayList<Object> y = new ArrayList();
  
  private int z = -1;
  
  public l(Activity paramActivity, boolean paramBoolean) {
    this.w = paramActivity;
    View view = paramActivity.getWindow().getDecorView();
    a(view);
    if (!paramBoolean)
      this.f = view.findViewById(16908290); 
  }
  
  public l(Dialog paramDialog) {
    this.x = paramDialog;
    a(paramDialog.getWindow().getDecorView());
  }
  
  private void a(View paramView) {
    this.b = (ActionBarOverlayLayout)paramView.findViewById(a.f.decor_content_parent);
    ActionBarOverlayLayout actionBarOverlayLayout = this.b;
    if (actionBarOverlayLayout != null)
      actionBarOverlayLayout.setActionBarVisibilityCallback(this); 
    this.d = b(paramView.findViewById(a.f.action_bar));
    this.e = (ActionBarContextView)paramView.findViewById(a.f.action_context_bar);
    this.c = (ActionBarContainer)paramView.findViewById(a.f.action_bar_container);
    ac ac1 = this.d;
    if (ac1 != null && this.e != null && this.c != null) {
      boolean bool;
      this.a = ac1.b();
      if ((this.d.o() & 0x4) != 0) {
        i1 = 1;
      } else {
        i1 = 0;
      } 
      if (i1)
        this.A = true; 
      a a1 = a.a(this.a);
      if (a1.f() || i1) {
        bool = true;
      } else {
        bool = false;
      } 
      a(bool);
      k(a1.d());
      TypedArray typedArray = this.a.obtainStyledAttributes(null, a.j.ActionBar, a.a.actionBarStyle, 0);
      if (typedArray.getBoolean(a.j.ActionBar_hideOnContentScroll, false))
        b(true); 
      int i1 = typedArray.getDimensionPixelSize(a.j.ActionBar_elevation, 0);
      if (i1 != 0)
        a(i1); 
      typedArray.recycle();
      return;
    } 
    StringBuilder stringBuilder = new StringBuilder();
    stringBuilder.append(getClass().getSimpleName());
    stringBuilder.append(" can only be used ");
    stringBuilder.append("with a compatible window decor layout");
    throw new IllegalStateException(stringBuilder.toString());
  }
  
  static boolean a(boolean paramBoolean1, boolean paramBoolean2, boolean paramBoolean3) { return paramBoolean3 ? true : (!(paramBoolean1 || paramBoolean2)); }
  
  private ac b(View paramView) {
    String str;
    if (paramView instanceof ac)
      return (ac)paramView; 
    if (paramView instanceof Toolbar)
      return ((Toolbar)paramView).getWrapper(); 
    StringBuilder stringBuilder = new StringBuilder();
    stringBuilder.append("Can't make a decor toolbar out of ");
    if (paramView != null) {
      str = paramView.getClass().getSimpleName();
    } else {
      str = "null";
    } 
    stringBuilder.append(str);
    throw new IllegalStateException(stringBuilder.toString());
  }
  
  private void k(boolean paramBoolean) {
    this.D = paramBoolean;
    if (!this.D) {
      this.d.a(null);
      this.c.setTabContainer(this.g);
    } else {
      this.c.setTabContainer(null);
      this.d.a(this.g);
    } 
    int i1 = i();
    boolean bool = true;
    if (i1 == 2) {
      i1 = 1;
    } else {
      i1 = 0;
    } 
    an an1 = this.g;
    if (an1 != null) {
      ActionBarOverlayLayout actionBarOverlayLayout1;
      if (i1 != 0) {
        an1.setVisibility(0);
        actionBarOverlayLayout1 = this.b;
        if (actionBarOverlayLayout1 != null)
          r.m(actionBarOverlayLayout1); 
      } else {
        actionBarOverlayLayout1.setVisibility(8);
      } 
    } 
    ac ac1 = this.d;
    if (!this.D && i1 != 0) {
      paramBoolean = true;
    } else {
      paramBoolean = false;
    } 
    ac1.a(paramBoolean);
    ActionBarOverlayLayout actionBarOverlayLayout = this.b;
    if (!this.D && i1 != 0) {
      paramBoolean = bool;
    } else {
      paramBoolean = false;
    } 
    actionBarOverlayLayout.setHasNonEmbeddedTabs(paramBoolean);
  }
  
  private void l(boolean paramBoolean) {
    if (a(this.l, this.m, this.F)) {
      if (!this.G) {
        this.G = true;
        h(paramBoolean);
        return;
      } 
    } else if (this.G) {
      this.G = false;
      i(paramBoolean);
    } 
  }
  
  private void n() {
    if (!this.F) {
      this.F = true;
      ActionBarOverlayLayout actionBarOverlayLayout = this.b;
      if (actionBarOverlayLayout != null)
        actionBarOverlayLayout.setShowingForActionMode(true); 
      l(false);
    } 
  }
  
  private void o() {
    if (this.F) {
      this.F = false;
      ActionBarOverlayLayout actionBarOverlayLayout = this.b;
      if (actionBarOverlayLayout != null)
        actionBarOverlayLayout.setShowingForActionMode(false); 
      l(false);
    } 
  }
  
  private boolean p() { return r.t(this.c); }
  
  public int a() { return this.d.o(); }
  
  public b a(b.a parama) {
    a a2 = this.h;
    if (a2 != null)
      a2.c(); 
    this.b.setHideOnContentScrollEnabled(false);
    this.e.c();
    a a1 = new a(this, this.e.getContext(), parama);
    if (a1.e()) {
      this.h = a1;
      a1.d();
      this.e.a(a1);
      j(true);
      this.e.sendAccessibilityEvent(32);
      return a1;
    } 
    return null;
  }
  
  public void a(float paramFloat) { r.a(this.c, paramFloat); }
  
  public void a(int paramInt) { this.E = paramInt; }
  
  public void a(int paramInt1, int paramInt2) {
    int i1 = this.d.o();
    if ((paramInt2 & 0x4) != 0)
      this.A = true; 
    this.d.c(paramInt1 & paramInt2 | paramInt2 & i1);
  }
  
  public void a(Configuration paramConfiguration) { k(a.a(this.a).d()); }
  
  public void a(CharSequence paramCharSequence) { this.d.a(paramCharSequence); }
  
  public void a(boolean paramBoolean) { this.d.b(paramBoolean); }
  
  public boolean a(int paramInt, KeyEvent paramKeyEvent) {
    a a1 = this.h;
    if (a1 == null)
      return false; 
    Menu menu = a1.b();
    if (menu != null) {
      if (paramKeyEvent != null) {
        i1 = paramKeyEvent.getDeviceId();
      } else {
        i1 = -1;
      } 
      int i1 = KeyCharacterMap.load(i1).getKeyboardType();
      boolean bool = true;
      if (i1 == 1)
        bool = false; 
      menu.setQwertyMode(bool);
      return menu.performShortcut(paramInt, paramKeyEvent, 0);
    } 
    return false;
  }
  
  public Context b() {
    if (this.v == null) {
      TypedValue typedValue = new TypedValue();
      this.a.getTheme().resolveAttribute(a.a.actionBarWidgetTheme, typedValue, true);
      int i1 = typedValue.resourceId;
      if (i1 != 0) {
        this.v = new ContextThemeWrapper(this.a, i1);
      } else {
        this.v = this.a;
      } 
    } 
    return this.v;
  }
  
  public void b(boolean paramBoolean) {
    if (!paramBoolean || this.b.a()) {
      this.o = paramBoolean;
      this.b.setHideOnContentScrollEnabled(paramBoolean);
      return;
    } 
    throw new IllegalStateException("Action bar must be in overlay mode (Window.FEATURE_OVERLAY_ACTION_BAR) to enable hide on content scroll");
  }
  
  public void c(boolean paramBoolean) {
    if (!this.A)
      f(paramBoolean); 
  }
  
  public void d(boolean paramBoolean) {
    this.H = paramBoolean;
    if (!paramBoolean) {
      h h1 = this.n;
      if (h1 != null)
        h1.c(); 
    } 
  }
  
  public void e(boolean paramBoolean) {
    if (paramBoolean == this.B)
      return; 
    this.B = paramBoolean;
    int i1 = this.C.size();
    for (byte b1 = 0; b1 < i1; b1++)
      ((a.b)this.C.get(b1)).a(paramBoolean); 
  }
  
  public void f(boolean paramBoolean) {
    byte b1;
    if (paramBoolean) {
      b1 = 4;
    } else {
      b1 = 0;
    } 
    a(b1, 4);
  }
  
  public boolean f() {
    ac ac1 = this.d;
    if (ac1 != null && ac1.c()) {
      this.d.d();
      return true;
    } 
    return false;
  }
  
  public void g(boolean paramBoolean) { this.k = paramBoolean; }
  
  void h() {
    b.a a1 = this.j;
    if (a1 != null) {
      a1.a(this.i);
      this.i = null;
      this.j = null;
    } 
  }
  
  public void h(boolean paramBoolean) {
    h h1 = this.n;
    if (h1 != null)
      h1.c(); 
    this.c.setVisibility(0);
    if (this.E == 0 && (this.H || paramBoolean)) {
      this.c.setTranslationY(0.0F);
      float f2 = -this.c.getHeight();
      float f1 = f2;
      if (paramBoolean) {
        int[] arrayOfInt = new int[2];
        arrayOfInt[0] = 0;
        arrayOfInt[1] = 0;
        arrayOfInt;
        this.c.getLocationInWindow(arrayOfInt);
        f1 = f2 - arrayOfInt[1];
      } 
      this.c.setTranslationY(f1);
      h1 = new h();
      w w1 = r.i(this.c).b(0.0F);
      w1.a(this.r);
      h1.a(w1);
      if (this.k) {
        View view = this.f;
        if (view != null) {
          view.setTranslationY(f1);
          h1.a(r.i(this.f).b(0.0F));
        } 
      } 
      h1.a(u);
      h1.a(250L);
      h1.a(this.q);
      this.n = h1;
      h1.a();
    } else {
      this.c.setAlpha(1.0F);
      this.c.setTranslationY(0.0F);
      if (this.k) {
        View view = this.f;
        if (view != null)
          view.setTranslationY(0.0F); 
      } 
      this.q.b(null);
    } 
    ActionBarOverlayLayout actionBarOverlayLayout = this.b;
    if (actionBarOverlayLayout != null)
      r.m(actionBarOverlayLayout); 
  }
  
  public int i() { return this.d.p(); }
  
  public void i(boolean paramBoolean) {
    h h1 = this.n;
    if (h1 != null)
      h1.c(); 
    if (this.E == 0 && (this.H || paramBoolean)) {
      this.c.setAlpha(1.0F);
      this.c.setTransitioning(true);
      h1 = new h();
      float f2 = -this.c.getHeight();
      float f1 = f2;
      if (paramBoolean) {
        int[] arrayOfInt = new int[2];
        arrayOfInt[0] = 0;
        arrayOfInt[1] = 0;
        arrayOfInt;
        this.c.getLocationInWindow(arrayOfInt);
        f1 = f2 - arrayOfInt[1];
      } 
      w w1 = r.i(this.c).b(f1);
      w1.a(this.r);
      h1.a(w1);
      if (this.k) {
        View view = this.f;
        if (view != null)
          h1.a(r.i(view).b(f1)); 
      } 
      h1.a(t);
      h1.a(250L);
      h1.a(this.p);
      this.n = h1;
      h1.a();
      return;
    } 
    this.p.b(null);
  }
  
  public void j() {
    if (this.m) {
      this.m = false;
      l(true);
    } 
  }
  
  public void j(boolean paramBoolean) {
    if (paramBoolean) {
      n();
    } else {
      o();
    } 
    if (p()) {
      w w2;
      w w1;
      if (paramBoolean) {
        w2 = this.d.a(4, 100L);
        w1 = this.e.a(0, 200L);
      } else {
        w1 = this.d.a(0, 200L);
        w2 = this.e.a(8, 100L);
      } 
      h h1 = new h();
      h1.a(w2, w1);
      h1.a();
      return;
    } 
    if (paramBoolean) {
      this.d.d(4);
      this.e.setVisibility(0);
      return;
    } 
    this.d.d(0);
    this.e.setVisibility(8);
  }
  
  public void k() {
    if (!this.m) {
      this.m = true;
      l(true);
    } 
  }
  
  public void l() {
    h h1 = this.n;
    if (h1 != null) {
      h1.c();
      this.n = null;
    } 
  }
  
  public void m() {}
}
