package android.support.v7.widget;

import android.content.Context;
import android.content.res.Configuration;
import android.content.res.Resources;
import android.graphics.drawable.Drawable;
import android.support.v4.f.c;
import android.support.v7.a.a;
import android.support.v7.view.a;
import android.support.v7.view.menu.ActionMenuItemView;
import android.support.v7.view.menu.b;
import android.support.v7.view.menu.h;
import android.support.v7.view.menu.j;
import android.support.v7.view.menu.p;
import android.support.v7.view.menu.u;
import android.util.SparseBooleanArray;
import android.view.MenuItem;
import android.view.View;
import android.view.ViewGroup;
import java.util.ArrayList;

class c extends b implements c.a {
  private b A;
  
  d g;
  
  e h;
  
  a i;
  
  c j;
  
  final f k = new f(this);
  
  int l;
  
  private Drawable m;
  
  private boolean n;
  
  private boolean o;
  
  private boolean p;
  
  private int q;
  
  private int r;
  
  private int s;
  
  private boolean t;
  
  private boolean u;
  
  private boolean v;
  
  private boolean w;
  
  private int x;
  
  private final SparseBooleanArray y = new SparseBooleanArray();
  
  private View z;
  
  public c(Context paramContext) { super(paramContext, a.g.abc_action_menu_layout, a.g.abc_action_menu_item_layout); }
  
  private View a(MenuItem paramMenuItem) {
    ViewGroup viewGroup = (ViewGroup)this.f;
    if (viewGroup == null)
      return null; 
    int i1 = viewGroup.getChildCount();
    for (byte b1 = 0; b1 < i1; b1++) {
      View view = viewGroup.getChildAt(b1);
      if (view instanceof p.a && ((p.a)view).getItemData() == paramMenuItem)
        return view; 
    } 
    return null;
  }
  
  public p a(ViewGroup paramViewGroup) {
    p p2 = this.f;
    p p1 = super.a(paramViewGroup);
    if (p2 != p1)
      ((ActionMenuView)p1).setPresenter(this); 
    return p1;
  }
  
  public View a(j paramj, View paramView, ViewGroup paramViewGroup) {
    byte b1;
    View view = paramj.getActionView();
    if (view == null || paramj.n())
      view = super.a(paramj, paramView, paramViewGroup); 
    if (paramj.isActionViewExpanded()) {
      b1 = 8;
    } else {
      b1 = 0;
    } 
    view.setVisibility(b1);
    ActionMenuView actionMenuView = (ActionMenuView)paramViewGroup;
    ViewGroup.LayoutParams layoutParams = view.getLayoutParams();
    if (!actionMenuView.checkLayoutParams(layoutParams))
      view.setLayoutParams(actionMenuView.a(layoutParams)); 
    return view;
  }
  
  public void a(Context paramContext, h paramh) {
    super.a(paramContext, paramh);
    Resources resources = paramContext.getResources();
    a a1 = a.a(paramContext);
    if (!this.p)
      this.o = a1.b(); 
    if (!this.v)
      this.q = a1.c(); 
    if (!this.t)
      this.s = a1.a(); 
    int i1 = this.q;
    if (this.o) {
      if (this.g == null) {
        this.g = new d(this, this.a);
        if (this.n) {
          this.g.setImageDrawable(this.m);
          this.m = null;
          this.n = false;
        } 
        int i2 = View.MeasureSpec.makeMeasureSpec(0, 0);
        this.g.measure(i2, i2);
      } 
      i1 -= this.g.getMeasuredWidth();
    } else {
      this.g = null;
    } 
    this.r = i1;
    this.x = (int)((resources.getDisplayMetrics()).density * 56.0F);
    this.z = null;
  }
  
  public void a(Configuration paramConfiguration) {
    if (!this.t)
      this.s = a.a(this.b).a(); 
    if (this.c != null)
      this.c.b(true); 
  }
  
  public void a(Drawable paramDrawable) {
    d d1 = this.g;
    if (d1 != null) {
      d1.setImageDrawable(paramDrawable);
      return;
    } 
    this.n = true;
    this.m = paramDrawable;
  }
  
  public void a(h paramh, boolean paramBoolean) {
    f();
    super.a(paramh, paramBoolean);
  }
  
  public void a(j paramj, p.a parama) {
    parama.a(paramj, 0);
    ActionMenuView actionMenuView = (ActionMenuView)this.f;
    ActionMenuItemView actionMenuItemView = (ActionMenuItemView)parama;
    actionMenuItemView.setItemInvoker(actionMenuView);
    if (this.A == null)
      this.A = new b(this); 
    actionMenuItemView.setPopupCallback(this.A);
  }
  
  public void a(ActionMenuView paramActionMenuView) {
    this.f = paramActionMenuView;
    paramActionMenuView.a(this.c);
  }
  
  public void a(boolean paramBoolean) {
    if (paramBoolean) {
      super.a(null);
      return;
    } 
    if (this.c != null)
      this.c.a(false); 
  }
  
  public boolean a(int paramInt, j paramj) { return paramj.j(); }
  
  public boolean a(u paramu) {
    boolean bool = paramu.hasVisibleItems();
    boolean bool1 = false;
    if (!bool)
      return false; 
    u u1;
    for (u1 = paramu; u1.t() != this.c; u1 = (u)u1.t());
    View view = a(u1.getItem());
    if (view == null)
      return false; 
    this.l = paramu.getItem().getItemId();
    int i1 = paramu.size();
    byte b1 = 0;
    while (true) {
      bool = bool1;
      if (b1 < i1) {
        MenuItem menuItem = paramu.getItem(b1);
        if (menuItem.isVisible() && menuItem.getIcon() != null) {
          bool = true;
          break;
        } 
        b1++;
        continue;
      } 
      break;
    } 
    this.i = new a(this, this.b, paramu, view);
    this.i.a(bool);
    this.i.a();
    super.a(paramu);
    return true;
  }
  
  public boolean a(ViewGroup paramViewGroup, int paramInt) { return (paramViewGroup.getChildAt(paramInt) == this.g) ? false : super.a(paramViewGroup, paramInt); }
  
  public void b(boolean paramBoolean) {
    super.b(paramBoolean);
    ((View)this.f).requestLayout();
    h h1 = this.c;
    byte b2 = 0;
    if (h1 != null) {
      ArrayList arrayList = this.c.l();
      int i1 = arrayList.size();
      for (byte b3 = 0; b3 < i1; b3++) {
        c c1 = ((j)arrayList.get(b3)).a();
        if (c1 != null)
          c1.a(this); 
      } 
    } 
    if (this.c != null) {
      ArrayList arrayList = this.c.m();
    } else {
      h1 = null;
    } 
    byte b1 = b2;
    if (this.o) {
      b1 = b2;
      if (h1 != null) {
        int i1 = h1.size();
        if (i1 == 1) {
          boolean bool = ((j)h1.get(0)).isActionViewExpanded() ^ true;
        } else {
          b1 = b2;
          if (i1 > 0)
            b1 = 1; 
        } 
      } 
    } 
    if (b1 != 0) {
      if (this.g == null)
        this.g = new d(this, this.a); 
      ViewGroup viewGroup = (ViewGroup)this.g.getParent();
      if (viewGroup != this.f) {
        if (viewGroup != null)
          viewGroup.removeView(this.g); 
        ActionMenuView actionMenuView = (ActionMenuView)this.f;
        actionMenuView.addView(this.g, actionMenuView.c());
      } 
    } else {
      d d1 = this.g;
      if (d1 != null && d1.getParent() == this.f)
        ((ViewGroup)this.f).removeView(this.g); 
    } 
    ((ActionMenuView)this.f).setOverflowReserved(this.o);
  }
  
  public boolean b() { throw new RuntimeException("d2j fail translate: java.lang.RuntimeException: can not merge Z and I\n\tat com.googlecode.dex2jar.ir.TypeClass.merge(TypeClass.java:100)\n\tat com.googlecode.dex2jar.ir.ts.TypeTransformer$TypeRef.updateTypeClass(TypeTransformer.java:174)\n\tat com.googlecode.dex2jar.ir.ts.TypeTransformer$TypeAnalyze.copyTypes(TypeTransformer.java:311)\n\tat com.googlecode.dex2jar.ir.ts.TypeTransformer$TypeAnalyze.fixTypes(TypeTransformer.java:226)\n\tat com.googlecode.dex2jar.ir.ts.TypeTransformer$TypeAnalyze.analyze(TypeTransformer.java:207)\n\tat com.googlecode.dex2jar.ir.ts.TypeTransformer.transform(TypeTransformer.java:44)\n\tat com.googlecode.d2j.dex.Dex2jar$2.optimize(Dex2jar.java:162)\n\tat com.googlecode.d2j.dex.Dex2Asm.convertCode(Dex2Asm.java:414)\n\tat com.googlecode.d2j.dex.ExDex2Asm.convertCode(ExDex2Asm.java:42)\n\tat com.googlecode.d2j.dex.Dex2jar$2.convertCode(Dex2jar.java:128)\n\tat com.googlecode.d2j.dex.Dex2Asm.convertMethod(Dex2Asm.java:509)\n\tat com.googlecode.d2j.dex.Dex2Asm.convertClass(Dex2Asm.java:406)\n\tat com.googlecode.d2j.dex.Dex2Asm.convertDex(Dex2Asm.java:422)\n\tat com.googlecode.d2j.dex.Dex2jar.doTranslate(Dex2jar.java:172)\n\tat com.googlecode.d2j.dex.Dex2jar.to(Dex2jar.java:272)\n\tat com.googlecode.dex2jar.tools.Dex2jarCmd.doCommandLine(Dex2jarCmd.java:108)\n\tat com.googlecode.dex2jar.tools.BaseCmd.doMain(BaseCmd.java:288)\n\tat com.googlecode.dex2jar.tools.Dex2jarCmd.main(Dex2jarCmd.java:32)\n"); }
  
  public Drawable c() {
    d d1 = this.g;
    return (d1 != null) ? d1.getDrawable() : (this.n ? this.m : null);
  }
  
  public void c(boolean paramBoolean) {
    this.o = paramBoolean;
    this.p = true;
  }
  
  public void d(boolean paramBoolean) { this.w = paramBoolean; }
  
  public boolean d() {
    if (this.o && !h() && this.c != null && this.f != null && this.j == null && !this.c.m().isEmpty()) {
      this.j = new c(this, new e(this, this.b, this.c, this.g, true));
      ((View)this.f).post(this.j);
      super.a(null);
      return true;
    } 
    return false;
  }
  
  public boolean e() {
    if (this.j != null && this.f != null) {
      ((View)this.f).removeCallbacks(this.j);
      this.j = null;
      return true;
    } 
    e e1 = this.h;
    if (e1 != null) {
      e1.d();
      return true;
    } 
    return false;
  }
  
  public boolean f() { return e() | g(); }
  
  public boolean g() {
    a a1 = this.i;
    if (a1 != null) {
      a1.d();
      return true;
    } 
    return false;
  }
  
  public boolean h() {
    e e1 = this.h;
    return (e1 != null && e1.f());
  }
  
  public boolean i() { return (this.j != null || h()); }
}
