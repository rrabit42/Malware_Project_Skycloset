package android.support.v7.widget;

import android.content.res.Configuration;
import android.support.v7.a.a;
import android.support.v7.app.a;
import android.support.v7.view.a;
import android.view.View;
import android.view.ViewGroup;
import android.view.animation.DecelerateInterpolator;
import android.view.animation.Interpolator;
import android.widget.AbsListView;
import android.widget.AdapterView;
import android.widget.HorizontalScrollView;
import android.widget.Spinner;

public class an extends HorizontalScrollView implements AdapterView.OnItemSelectedListener {
  private static final Interpolator j = new DecelerateInterpolator();
  
  Runnable a;
  
  ah b;
  
  int c;
  
  int d;
  
  private b e;
  
  private Spinner f;
  
  private boolean g;
  
  private int h;
  
  private int i;
  
  private boolean a() {
    Spinner spinner = this.f;
    return (spinner != null && spinner.getParent() == this);
  }
  
  private void b() {
    if (a())
      return; 
    if (this.f == null)
      this.f = d(); 
    removeView(this.b);
    addView(this.f, new ViewGroup.LayoutParams(-2, -1));
    if (this.f.getAdapter() == null)
      this.f.setAdapter(new a(this)); 
    Runnable runnable = this.a;
    if (runnable != null) {
      removeCallbacks(runnable);
      this.a = null;
    } 
    this.f.setSelection(this.i);
  }
  
  private boolean c() {
    if (!a())
      return false; 
    removeView(this.f);
    addView(this.b, new ViewGroup.LayoutParams(-2, -1));
    setTabSelected(this.f.getSelectedItemPosition());
    return false;
  }
  
  private Spinner d() {
    x x = new x(getContext(), null, a.a.actionDropDownStyle);
    x.setLayoutParams(new ah.a(-2, -1));
    x.setOnItemSelectedListener(this);
    return x;
  }
  
  c a(a.c paramc, boolean paramBoolean) {
    c c1 = new c(this, getContext(), paramc, paramBoolean);
    if (paramBoolean) {
      c1.setBackgroundDrawable(null);
      c1.setLayoutParams(new AbsListView.LayoutParams(-1, this.h));
      return c1;
    } 
    c1.setFocusable(true);
    if (this.e == null)
      this.e = new b(this); 
    c1.setOnClickListener(this.e);
    return c1;
  }
  
  public void a(int paramInt) {
    View view = this.b.getChildAt(paramInt);
    Runnable runnable = this.a;
    if (runnable != null)
      removeCallbacks(runnable); 
    this.a = new Object(this, view);
    post(this.a);
  }
  
  public void onAttachedToWindow() {
    super.onAttachedToWindow();
    Runnable runnable = this.a;
    if (runnable != null)
      post(runnable); 
  }
  
  protected void onConfigurationChanged(Configuration paramConfiguration) {
    super.onConfigurationChanged(paramConfiguration);
    a a1 = a.a(getContext());
    setContentHeight(a1.e());
    this.d = a1.g();
  }
  
  public void onDetachedFromWindow() {
    super.onDetachedFromWindow();
    Runnable runnable = this.a;
    if (runnable != null)
      removeCallbacks(runnable); 
  }
  
  public void onItemSelected(AdapterView<?> paramAdapterView, View paramView, int paramInt, long paramLong) { ((c)paramView).b().d(); }
  
  public void onMeasure(int paramInt1, int paramInt2) { // Byte code:
    //   0: iload_1
    //   1: invokestatic getMode : (I)I
    //   4: istore_2
    //   5: iconst_1
    //   6: istore_3
    //   7: iload_2
    //   8: ldc 1073741824
    //   10: if_icmpne -> 19
    //   13: iconst_1
    //   14: istore #5
    //   16: goto -> 22
    //   19: iconst_0
    //   20: istore #5
    //   22: aload_0
    //   23: iload #5
    //   25: invokevirtual setFillViewport : (Z)V
    //   28: aload_0
    //   29: getfield b : Landroid/support/v7/widget/ah;
    //   32: invokevirtual getChildCount : ()I
    //   35: istore #4
    //   37: iload #4
    //   39: iconst_1
    //   40: if_icmple -> 102
    //   43: iload_2
    //   44: ldc 1073741824
    //   46: if_icmpeq -> 55
    //   49: iload_2
    //   50: ldc -2147483648
    //   52: if_icmpne -> 102
    //   55: iload #4
    //   57: iconst_2
    //   58: if_icmple -> 77
    //   61: aload_0
    //   62: iload_1
    //   63: invokestatic getSize : (I)I
    //   66: i2f
    //   67: ldc 0.4
    //   69: fmul
    //   70: f2i
    //   71: putfield c : I
    //   74: goto -> 87
    //   77: aload_0
    //   78: iload_1
    //   79: invokestatic getSize : (I)I
    //   82: iconst_2
    //   83: idiv
    //   84: putfield c : I
    //   87: aload_0
    //   88: getfield c : I
    //   91: aload_0
    //   92: getfield d : I
    //   95: invokestatic min : (II)I
    //   98: istore_2
    //   99: goto -> 104
    //   102: iconst_m1
    //   103: istore_2
    //   104: aload_0
    //   105: iload_2
    //   106: putfield c : I
    //   109: aload_0
    //   110: getfield h : I
    //   113: ldc 1073741824
    //   115: invokestatic makeMeasureSpec : (II)I
    //   118: istore #4
    //   120: iload #5
    //   122: ifne -> 137
    //   125: aload_0
    //   126: getfield g : Z
    //   129: ifeq -> 137
    //   132: iload_3
    //   133: istore_2
    //   134: goto -> 139
    //   137: iconst_0
    //   138: istore_2
    //   139: iload_2
    //   140: ifeq -> 174
    //   143: aload_0
    //   144: getfield b : Landroid/support/v7/widget/ah;
    //   147: iconst_0
    //   148: iload #4
    //   150: invokevirtual measure : (II)V
    //   153: aload_0
    //   154: getfield b : Landroid/support/v7/widget/ah;
    //   157: invokevirtual getMeasuredWidth : ()I
    //   160: iload_1
    //   161: invokestatic getSize : (I)I
    //   164: if_icmple -> 174
    //   167: aload_0
    //   168: invokespecial b : ()V
    //   171: goto -> 179
    //   174: aload_0
    //   175: invokespecial c : ()Z
    //   178: pop
    //   179: aload_0
    //   180: invokevirtual getMeasuredWidth : ()I
    //   183: istore_2
    //   184: aload_0
    //   185: iload_1
    //   186: iload #4
    //   188: invokespecial onMeasure : (II)V
    //   191: aload_0
    //   192: invokevirtual getMeasuredWidth : ()I
    //   195: istore_1
    //   196: iload #5
    //   198: ifeq -> 214
    //   201: iload_2
    //   202: iload_1
    //   203: if_icmpeq -> 214
    //   206: aload_0
    //   207: aload_0
    //   208: getfield i : I
    //   211: invokevirtual setTabSelected : (I)V
    //   214: return }
  
  public void onNothingSelected(AdapterView<?> paramAdapterView) {}
  
  public void setAllowCollapse(boolean paramBoolean) { this.g = paramBoolean; }
  
  public void setContentHeight(int paramInt) {
    this.h = paramInt;
    requestLayout();
  }
  
  public void setTabSelected(int paramInt) {
    this.i = paramInt;
    int k = this.b.getChildCount();
    for (byte b1 = 0; b1 < k; b1++) {
      boolean bool;
      View view = this.b.getChildAt(b1);
      if (b1 == paramInt) {
        bool = true;
      } else {
        bool = false;
      } 
      view.setSelected(bool);
      if (bool)
        a(paramInt); 
    } 
    Spinner spinner = this.f;
    if (spinner != null && paramInt >= 0)
      spinner.setSelection(paramInt); 
  }
}
