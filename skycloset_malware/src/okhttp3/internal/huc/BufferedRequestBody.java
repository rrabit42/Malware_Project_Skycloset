package okhttp3.internal.huc;

import b.c;
import b.d;
import okhttp3.Request;

final class BufferedRequestBody extends OutputStreamRequestBody {
  final c buffer = new c();
  
  long contentLength = -1L;
  
  BufferedRequestBody(long paramLong) { initOutputStream(this.buffer, paramLong); }
  
  public long contentLength() { return this.contentLength; }
  
  public Request prepareToSendRequest(Request paramRequest) {
    if (paramRequest.header("Content-Length") != null)
      return paramRequest; 
    outputStream().close();
    this.contentLength = this.buffer.a();
    return paramRequest.newBuilder().removeHeader("Transfer-Encoding").header("Content-Length", Long.toString(this.buffer.a())).build();
  }
  
  public void writeTo(d paramd) { this.buffer.a(paramd.b(), 0L, this.buffer.a()); }
}
