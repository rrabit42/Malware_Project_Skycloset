package okhttp3.internal;

import java.util.ArrayList;
import java.util.Collections;
import java.util.Comparator;
import java.util.List;
import java.util.Map;
import java.util.TreeMap;
import okhttp3.Headers;

public final class JavaNetHeaders {
  private static final Comparator<String> FIELD_NAME_COMPARATOR = new Object();
  
  public static Map<String, List<String>> toMultimap(Headers paramHeaders, String paramString) {
    TreeMap treeMap = new TreeMap(FIELD_NAME_COMPARATOR);
    int i = paramHeaders.size();
    for (byte b = 0; b < i; b++) {
      String str1 = paramHeaders.name(b);
      String str2 = paramHeaders.value(b);
      ArrayList arrayList = new ArrayList();
      List list = (List)treeMap.get(str1);
      if (list != null)
        arrayList.addAll(list); 
      arrayList.add(str2);
      treeMap.put(str1, Collections.unmodifiableList(arrayList));
    } 
    if (paramString != null)
      treeMap.put(null, Collections.unmodifiableList(Collections.singletonList(paramString))); 
    return Collections.unmodifiableMap(treeMap);
  }
}
